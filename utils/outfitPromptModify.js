(function(_0xcc3e2d,_0x194490){function _0x311e3d(_0xdd2d8d,_0x1316e8,_0x36e760,_0x44a70a){return _0x3d9c(_0x36e760-0x1e,_0x44a70a);}function _0x405127(_0xbfecc6,_0x45cb6d,_0x27277d,_0x2aec74){return _0x3d9c(_0x45cb6d- -0x13c,_0x2aec74);}const _0x2d284d=_0xcc3e2d();while(!![]){try{const _0x3ec8f3=-parseInt(_0x405127(0x188,0x12f,0x113,0x7f))/(-0x5ca+0x23*0x6e+0x315*-0x3)+-parseInt(_0x311e3d(0x2c0,0x269,0x24b,0x1b7))/(-0x3*-0xba2+-0x605+-0x1cdf)*(-parseInt(_0x311e3d(0x392,0x395,0x303,0x2a4))/(-0x1de+0xdf0*-0x1+-0x1*-0xfd1))+-parseInt(_0x405127(0xec,0x118,0x88,0x1a0))/(0x1d15*-0x1+0x17*-0x16a+0x3d9f)+-parseInt(_0x311e3d(0x29d,0x24d,0x21a,0x1fa))/(0xbc2+0x905+-0x14c2)*(-parseInt(_0x405127(0x15b,0xb9,0x7c,0x33))/(-0x1727+0x1c89+-0x55c))+-parseInt(_0x311e3d(0x1a7,0x2ab,0x206,0x19d))/(0x1616+0x1a6d+-0x307c)+parseInt(_0x405127(0x148,0xbc,0x13d,0x4d))/(-0x17c5+0x29*-0xe2+0x3bff*0x1)*(-parseInt(_0x311e3d(0x1f8,0x280,0x27e,0x219))/(0x1e53+-0xe19+-0x1031))+parseInt(_0x311e3d(0x323,0x234,0x2e3,0x346))/(0x98*-0xe+0x141e+0xbc4*-0x1);if(_0x3ec8f3===_0x194490)break;else _0x2d284d['push'](_0x2d284d['shift']());}catch(_0x34f97c){_0x2d284d['push'](_0x2d284d['shift']());}}}(_0x4c4f,0xedc7f+-0x1fb*-0xba+-0x54008));const _0x1c9fc9=(function(){const _0x44ef5c={'jnIRb':'text','oCnLm':function(_0x520b04,_0xc82e37){return _0x520b04(_0xc82e37);},'WAGIj':_0x50a235(0x4b6,0x488,0x49d,0x435),'RunNr':_0x50a235(0x418,0x480,0x509,0x518),'hPheR':_0x50a235(0x504,0x495,0x513,0x44e)+_0x1f9b8d(0x5d3,0x538,0x5e3,0x5d9),'Brduk':_0x1f9b8d(0x677,0x628,0x6b4,0x65e),'ZUOMi':function(_0x363cc7,_0x1cdbeb){return _0x363cc7===_0x1cdbeb;},'OTQYs':_0x1f9b8d(0x6ee,0x6fd,0x6bd,0x640),'tbzCb':'ASOOK','fwmPI':function(_0x10d166,_0x512d47){return _0x10d166!==_0x512d47;},'UcAgR':'btVzr'};let _0x335147=!![];function _0x50a235(_0x47c6b9,_0x3fe1b9,_0x23ea2b,_0x3befbb){return _0x3d9c(_0x3fe1b9-0x202,_0x23ea2b);}function _0x1f9b8d(_0x166267,_0x1a532c,_0x14b41f,_0x3ba902){return _0x3d9c(_0x14b41f-0x3c7,_0x1a532c);}return function(_0x100808,_0x2f27dd){function _0x11ace6(_0x3ad45c,_0x348126,_0x2a858f,_0x5175df){return _0x50a235(_0x3ad45c-0x178,_0x2a858f-0x95,_0x3ad45c,_0x5175df-0xf0);}const _0x59b0ca={'wCHDW':_0x44ef5c[_0x3f93b5(-0xbc,-0xdc,-0x11,-0x146)],'fpRAK':function(_0x49cb6e,_0xba9824){function _0x4a4423(_0x4d78c3,_0x2f20dd,_0x1bd124,_0x3ede08){return _0x3f93b5(_0x1bd124-0x2d4,_0x3ede08,_0x1bd124-0x1c2,_0x3ede08-0x1e8);}return _0x44ef5c[_0x4a4423(0x238,0x246,0x2dd,0x334)](_0x49cb6e,_0xba9824);},'SNtCv':_0x44ef5c['WAGIj'],'kFCzK':_0x44ef5c[_0x11ace6(0x3e8,0x538,0x499,0x49a)],'VCEPH':'upperBody','SkHUE':_0x44ef5c[_0x3f93b5(-0xc8,-0xa4,-0x48,-0x81)],'UwrFy':_0x44ef5c[_0x3f93b5(-0x68,-0x115,-0x69,-0x20)],'dHjay':function(_0x485181,_0x19785f){function _0x428919(_0x330621,_0x86c1e1,_0x4923bc,_0x58aed5){return _0x3f93b5(_0x86c1e1-0x417,_0x330621,_0x4923bc-0xb6,_0x58aed5-0x52);}return _0x44ef5c[_0x428919(0x470,0x413,0x388,0x495)](_0x485181,_0x19785f);},'plaVy':_0x44ef5c[_0x11ace6(0x3da,0x4df,0x47c,0x4d3)],'EpwJg':function(_0x3e96da,_0xdd1c95){return _0x3e96da!==_0xdd1c95;},'YxrvG':_0x44ef5c['tbzCb'],'zwjpI':_0x11ace6(0x499,0x4b0,0x474,0x401)};function _0x3f93b5(_0x20508f,_0x190360,_0x26d94d,_0x3255e8){return _0x1f9b8d(_0x20508f-0x15c,_0x190360,_0x20508f- -0x67a,_0x3255e8-0x8a);}if(_0x44ef5c[_0x11ace6(0x52c,0x54f,0x4c1,0x429)]('btVzr',_0x44ef5c['UcAgR']))return _0x3e3908;else{const _0x5e92d1=_0x335147?function(){function _0x935a4d(_0x4b4eae,_0x2b5940,_0x1dda20,_0x4d457a){return _0x3f93b5(_0x4b4eae-0x3a6,_0x2b5940,_0x1dda20-0xae,_0x4d457a-0x15c);}const _0x58160a={'Mbtxt':function(_0x174988,_0x446f0b){function _0x44d105(_0x4b8d71,_0x4652af,_0x38485f,_0x4b8299){return _0x3d9c(_0x4b8d71- -0x1ab,_0x4b8299);}return _0x59b0ca[_0x44d105(0x127,0x7c,0x1a8,0x1bf)](_0x174988,_0x446f0b);},'TrjMj':'input','XtIzB':_0x59b0ca['SNtCv'],'jUKwt':_0x59b0ca[_0x935a4d(0x312,0x351,0x3a4,0x36d)],'pFdcQ':_0x59b0ca[_0x935a4d(0x33f,0x377,0x2a2,0x3c3)],'amCFa':_0x59b0ca[_0x2a450e(-0x6b,-0xe,0x5,0x13)],'xgEoe':_0x59b0ca[_0x2a450e(-0x4d,-0xdc,-0x6f,-0x32)]};function _0x2a450e(_0x41f509,_0x29377e,_0x29b650,_0x52eee1){return _0x11ace6(_0x29b650,_0x29377e-0xbe,_0x41f509- -0x592,_0x52eee1-0x56);}if(_0x59b0ca[_0x2a450e(-0xd8,-0xc4,-0x2f,-0x56)](_0x59b0ca[_0x935a4d(0x349,0x367,0x33c,0x2d6)],_0x59b0ca[_0x2a450e(-0xa5,-0x65,-0xbd,-0xcf)])){if(_0x2f27dd){if(_0x59b0ca['EpwJg'](_0x59b0ca['YxrvG'],_0x59b0ca[_0x2a450e(-0xf6,-0x18a,-0x121,-0x16d)])){const _0x9807b4=_0x2f27dd['apply'](_0x100808,arguments);return _0x2f27dd=null,_0x9807b4;}else{if(_0x3851a1[_0x935a4d(0x3ec,0x400,0x3fd,0x468)]===_0x59b0ca[_0x2a450e(-0x12a,-0x17c,-0x1b3,-0x15a)]&&_0x1912ac[_0x935a4d(0x369,0x38d,0x3bb,0x30e)][_0x2a450e(-0xcd,-0x25,-0x165,-0x144)](_0x2be792))return _0x13f4ea;}}}else{const _0x4038c4={'JyGOh':function(_0x4528fa,_0xb19a31){function _0x36cc37(_0x46883d,_0x4c2ef3,_0x47f354,_0x2cfac2){return _0x2a450e(_0x2cfac2-0x534,_0x4c2ef3-0x1b4,_0x47f354,_0x2cfac2-0x86);}return _0x58160a[_0x36cc37(0x3af,0x3f0,0x3aa,0x451)](_0x4528fa,_0xb19a31);},'huPNo':_0x58160a[_0x2a450e(-0xb,0x9d,0x59,-0x19)]},_0x246981=[_0x58160a[_0x935a4d(0x3b9,0x348,0x336,0x405)],_0x58160a['jUKwt'],_0x58160a[_0x2a450e(-0xbd,-0xb,-0x64,-0xd2)],_0x58160a[_0x935a4d(0x3a0,0x3ae,0x32b,0x3f0)],_0x58160a[_0x935a4d(0x29a,0x1eb,0x27a,0x31b)],'fullBodyBa'+'ck'];_0x246981[_0x2a450e(-0x9,-0x86,0x65,0xc)](_0x35e93d=>{function _0xc7244a(_0x5f17fa,_0x3e66ee,_0x3e3641,_0x1218fd){return _0x2a450e(_0x3e3641-0x63a,_0x3e66ee-0xa8,_0x5f17fa,_0x1218fd-0x137);}function _0xa7ebde(_0x27c04e,_0x175b4a,_0x1ce9d4,_0x507aaf){return _0x2a450e(_0x507aaf-0x4b3,_0x175b4a-0x15a,_0x175b4a,_0x507aaf-0x1c5);}if(_0x56a5c6[_0x35e93d]){const _0x5ad6f1=_0x431e20[_0xa7ebde(0x3c8,0x3e0,0x476,0x3ff)+_0xa7ebde(0x4f4,0x3fb,0x3ee,0x47f)](_0xc7244a(0x47a,0x534,0x513,0x5ab)+_0x35e93d);_0x5ad6f1&&(_0x5ad6f1['value']=_0x358ab1[_0x35e93d],_0x4038c4[_0xc7244a(0x660,0x68b,0x60f,0x597)](_0x33bef5,_0x5ad6f1)[_0xa7ebde(0x2f6,0x2b6,0x3ca,0x365)](_0x4038c4['huPNo']));}});}}:function(){};return _0x335147=![],_0x5e92d1;}};}()),_0x544cb2=_0x1c9fc9(this,function(){function _0xb66bbe(_0x35afad,_0x283540,_0x24f179,_0x1afbce){return _0x3d9c(_0x35afad- -0x186,_0x24f179);}const _0x52cd86={};function _0x4b7b31(_0x25c6ec,_0x49eb75,_0xd512e3,_0x4c14d8){return _0x3d9c(_0xd512e3-0x184,_0x49eb75);}_0x52cd86['IbfrJ']=_0x4b7b31(0x2e2,0x2cc,0x349,0x31d)+'+$';const _0x16ce05=_0x52cd86;return _0x544cb2['toString']()[_0xb66bbe(0x51,0x7b,0x80,0x1c)](_0x16ce05[_0x4b7b31(0x413,0x3c5,0x3f7,0x366)])[_0xb66bbe(0x132,0x166,0x1c9,0x166)]()[_0xb66bbe(0x2c,-0x10,-0x3,0x17)+'r'](_0x544cb2)[_0xb66bbe(0x51,0xb4,0xcf,0x65)](_0x16ce05['IbfrJ']);});_0x544cb2();import{eventSource}from'../../../../../script.js';import{eventNames,extensionName}from'./config.js';import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced}from'../../../../../script.js';import{updateCombinedPrompt}from'./settings/llm.js';import{buildPromptForRequestType}from'./settings/llmService.js';import{loadOutfitPreset}from'./settings/character/index.js';function _0x487e99(_0x497597,_0x10b316,_0x36c37a,_0x5522cb){return _0x3d9c(_0x36c37a-0x397,_0x5522cb);}import{stylishConfirm}from'./ui_common.js';function replacePlaceholder(_0x38c54c,_0x42d369,_0xf8f6c8,_0x533e47){const _0xd48cdc={'IpCZS':function(_0x3e1d64,_0x33d14e){return _0x3e1d64===_0x33d14e;},'GbUQE':_0x1cb60e(0x27,-0xf8,-0x47,-0x83),'tBEzF':function(_0x508568,_0x5175ac){return _0x508568===_0x5175ac;},'gbfds':_0x1cb60e(0xd,-0x16,-0x5c,-0x8f),'VfgzL':function(_0x5a657b,_0x984f8d){return _0x5a657b+_0x984f8d;},'qwPyo':_0x1cb60e(-0x6c,0x2d,0x30,-0x63),'HHwOd':_0x1cb60e(-0x43,-0x44,-0xb,-0x4a),'azJKd':_0x34cdad(0x2b1,0x204,0x2e6,0x2f8),'EFtmA':'[outfitPro'+'mptModify]'+'\x20Attached','QjDzq':_0x1cb60e(-0x109,0x10,-0x5a,-0xdf)+_0x34cdad(0x210,0x1db,0x1db,0x1a3)+_0x1cb60e(0x67,0xdb,0x8e,0x13d),'NIAxF':_0x34cdad(0x244,0x2b3,0x1a2,0x245),'EIBar':function(_0x4a0188,_0x23f9d7){return _0x4a0188===_0x23f9d7;},'vHdSD':_0x34cdad(0x1dd,0x22a,0x214,0x22c),'DfMZc':'MKPBm','GSlLH':function(_0x3abda4,_0x5730fa){return _0x3abda4===_0x5730fa;},'yMWDx':function(_0x3eed92,_0x37ff1f){return _0x3eed92!==_0x37ff1f;},'kAXNN':_0x34cdad(0x26f,0x2ce,0x2a3,0x1ee),'vwxxq':_0x1cb60e(0x5c,-0x6b,0x45,0x11),'kgbzG':function(_0x59a748,_0x35c541,_0x14c339,_0x492c8e,_0x23045d){return _0x59a748(_0x35c541,_0x14c339,_0x492c8e,_0x23045d);}};function _0x1cb60e(_0x185b76,_0x578cff,_0x3c13bd,_0x54565e){return _0x3d9c(_0x3c13bd- -0x246,_0x578cff);}if(typeof _0x38c54c==='string'){if(_0xd48cdc[_0x34cdad(0x27f,0x2fc,0x1dc,0x283)]!==_0xd48cdc['NIAxF'])_0x2c3a4a=_0x34cdad(0x241,0x1aa,0x2ea,0x2a3)+_0x34cdad(0x28f,0x318,0x2ac,0x336)+'4,'+_0x522948;else{if(_0xf8f6c8&&_0x38c54c['includes'](_0x42d369)){if(_0xd48cdc['EIBar'](_0xd48cdc['vHdSD'],_0x1cb60e(-0xe7,0xf,-0x7e,0x2b)))_0x533e47&&_0x533e47[_0x1cb60e(0x25,-0x8a,0x20,-0x8)](_0x42d369);else{const _0xe7e313=_0xd48cdc[_0x1cb60e(0x124,0x104,0xa3,-0x9)](typeof _0x3c664e,_0xd48cdc['GbUQE'])?_0x10015b:_0x2a5319[_0x1cb60e(0x8c,0xb3,0x8d,0x89)],_0x2de1eb=_0xd48cdc[_0x1cb60e(0xe4,0x74,0x7c,-0x1b)](typeof _0x3e970a,_0xd48cdc[_0x1cb60e(-0x8c,-0xcd,-0x48,0x48)])&&_0x417834[_0x34cdad(0x26d,0x249,0x1cb,0x1f5)]?_0x8f3b93['name']:''+_0x19ce19+_0xd48cdc[_0x1cb60e(-0x88,0x25,-0x8c,-0x101)](_0x37973d,-0x1d6a+0x11f*-0x21+0x426a),_0x5a2607={};_0x5a2607['type']=_0xd48cdc[_0x34cdad(0x2ce,0x270,0x36d,0x363)],_0x5a2607[_0x1cb60e(0x61,-0x6f,0x30,-0x32)]='['+_0x2de1eb+']',_0x1d0438[_0x1cb60e(-0x9d,-0x84,-0x2c,-0x76)](_0x5a2607);let _0x478d3a=_0xe7e313;!_0xe7e313[_0x34cdad(0x2d2,0x22e,0x309,0x368)](_0xd48cdc[_0x1cb60e(0x90,-0xf,0x16,0x23)])&&(_0x478d3a=_0x1cb60e(-0x44,0x33,-0x1a,0x5e)+_0x1cb60e(0x5f,0xd6,0x34,-0x7c)+'4,'+_0xe7e313);const _0x418344={};_0x418344['url']=_0x478d3a,_0x418344[_0x1cb60e(0x8,0xa7,0x86,0xa5)]=_0x1cb60e(0x122,-0x35,0x71,-0x21);const _0x59d9fc={};_0x59d9fc[_0x1cb60e(0x1,0xad,0xb3,0xe6)]=_0xd48cdc[_0x1cb60e(-0xa2,-0x131,-0x88,-0x13a)],_0x59d9fc[_0x1cb60e(0x16,0x7d,0x56,0x10)]=_0x418344,_0x1c299c[_0x34cdad(0x22f,0x25c,0x1f9,0x208)](_0x59d9fc);}}return _0x38c54c[_0x1cb60e(0x5f,-0x21,-0x53,-0x5a)](_0x42d369,_0xf8f6c8);}}if(Array[_0x34cdad(0x2b3,0x300,0x203,0x273)](_0x38c54c)){if(_0xd48cdc[_0x34cdad(0x2e4,0x239,0x2fb,0x2a5)]==='ILZmJ')_0x2c6b86=_0x40c5dc(_0x29028a,_0x1097e3,_0x5f3de7,_0x34cdad(0x276,0x30c,0x2c9,0x276)),_0x20769e[_0x34cdad(0x2ee,0x335,0x369,0x375)](_0xd48cdc['EFtmA'],_0x502764[_0x1cb60e(-0xe8,-0x7b,-0x79,-0x115)],_0xd48cdc['QjDzq'],_0x4c6fe2);else return _0x38c54c[_0x1cb60e(0x4f,-0x21,-0x62,-0xb3)](_0x54f073=>replacePlaceholder(_0x54f073,_0x42d369,_0xf8f6c8,_0x533e47));}if(_0x38c54c&&_0xd48cdc[_0x1cb60e(-0x2f,-0x135,-0xa1,-0xdd)](typeof _0x38c54c,_0xd48cdc[_0x34cdad(0x213,0x24b,0x16b,0x200)])){if(_0xd48cdc[_0x1cb60e(0x8d,0x51,0xb8,0x12f)](_0xd48cdc[_0x34cdad(0x2fb,0x2c2,0x2d5,0x33e)],_0xd48cdc['vwxxq'])){const _0xc43f0={};for(const _0x11e123 in _0x38c54c){_0xc43f0[_0x11e123]=_0xd48cdc['kgbzG'](replacePlaceholder,_0x38c54c[_0x11e123],_0x42d369,_0xf8f6c8,_0x533e47);}return _0xc43f0;}else{_0x1f45da[_0x1cb60e(0xd6,-0x6a,0x3d,0x65)](_0x34cdad(0x29a,0x2e6,0x243,0x204));return;}}function _0x34cdad(_0x440627,_0x5217a6,_0x33c095,_0x23a256){return _0x3d9c(_0x440627-0x15,_0x33c095);}return _0x38c54c;}function attachImagesToMessage(_0x1a96ba,_0x4f2672,_0x29f3d6,_0x4aac3a=_0x487e99(0x5aa,0x5d0,0x5f8,0x594)){const _0x375ef0={'qxjmo':function(_0x4ed3f4,_0x2c1ab4,_0x5012a2,_0x5f2c6e,_0x339c97){return _0x4ed3f4(_0x2c1ab4,_0x5012a2,_0x5f2c6e,_0x339c97);},'piMrc':function(_0x29d13c,_0x4748a0){return _0x29d13c===_0x4748a0;},'hwrEr':'object','gNMLh':function(_0x2269f9,_0x31041f){return _0x2269f9+_0x31041f;},'pMesF':_0x57e870(0x309,0x3b8,0x428,0x465),'LVxJH':_0x216e0a(-0xa0,0x1,-0x4c,0x4a),'ZJgOa':function(_0x358faf,_0x59e613){return _0x358faf!==_0x59e613;},'Vbgmn':_0x57e870(0x35d,0x3de,0x359,0x35e),'EvBKk':_0x57e870(0x403,0x3f9,0x46f,0x376),'JncNH':function(_0x2cbc36,_0x97d405){return _0x2cbc36===_0x97d405;},'AnAsL':function(_0xd98987,_0x15fbc1){return _0xd98987>=_0x15fbc1;},'dYzAa':function(_0x135227,_0x337f9e){return _0x135227===_0x337f9e;},'oKWFN':'lMoXy','dkGhH':_0x216e0a(-0x37,0xdd,0x44,0xf3),'zdVCc':function(_0x3d44a1,_0x8d652){return _0x3d44a1===_0x8d652;},'oPsmO':_0x57e870(0x2f8,0x341,0x2bd,0x2a9),'TFkiJ':function(_0x81c1db,_0x59a3a0){return _0x81c1db===_0x59a3a0;},'AqMyL':_0x216e0a(-0x56,0x3,0x2d,-0x77),'sshmE':_0x216e0a(0xc,-0xa0,-0x46,-0xb6)};if(!_0x29f3d6||_0x375ef0[_0x216e0a(0xe2,0x4d,0x51,0x7f)](_0x29f3d6['length'],-0x1c4e+-0x5*0x1a5+0x1*0x2487)||_0x4f2672<-0xe*0xb3+0x2*0xfce+-0x85*0x2a||_0x375ef0[_0x216e0a(-0x72,-0x8a,-0x91,0x17)](_0x4f2672,_0x1a96ba[_0x57e870(0x2a3,0x30f,0x331,0x309)]))return _0x375ef0[_0x216e0a(0x1e,-0x52,-0x54,0x0)](_0x375ef0['oKWFN'],_0x375ef0[_0x57e870(0x3c9,0x318,0x281,0x39b)])?null:_0x1a96ba;const _0x1b7a4a=[..._0x1a96ba],_0x50664a=_0x1b7a4a[_0x4f2672],_0x1388fb=[];if(_0x375ef0[_0x216e0a(-0xf2,0x2b,-0x7f,-0xdf)](typeof _0x50664a['content'],_0x375ef0[_0x216e0a(0x14,0x62,-0x30,-0x1a)])){if(_0x375ef0[_0x216e0a(-0xf,-0x8d,-0x24,0x2b)](_0x375ef0[_0x216e0a(0x28,0xd0,0x37,0xe4)],_0x375ef0['sshmE'])){if(_0x2c294c){const _0x4c52d2=_0xa42287[_0x216e0a(0x81,-0x36,-0x20,0x7a)](_0x5d1ca2,arguments);return _0x8e9b84=null,_0x4c52d2;}}else{const _0x187ca7={};_0x187ca7[_0x216e0a(0xf2,0x87,0x72,-0x2e)]=_0x375ef0[_0x57e870(0x2f1,0x378,0x3aa,0x2ec)],_0x187ca7[_0x57e870(0x437,0x3b8,0x3c1,0x3ff)]=_0x50664a[_0x216e0a(-0xd9,-0x53,-0xa8,-0x3d)],_0x1388fb[_0x216e0a(-0xb6,-0x118,-0x6d,-0x55)](_0x187ca7);}}else Array['isArray'](_0x50664a[_0x57e870(0x3ce,0x321,0x2ef,0x31a)])&&_0x1388fb[_0x216e0a(0xe,-0x4e,-0x6d,-0xa)](..._0x50664a[_0x57e870(0x3b1,0x321,0x305,0x30b)]);if(_0x29f3d6[_0x57e870(0x26a,0x30f,0x378,0x2a9)]>0xa81+0xeb6+0x1*-0x1937){const _0x5653f5={};_0x5653f5[_0x216e0a(0xb7,0x11b,0x72,0xda)]=_0x375ef0[_0x216e0a(0x4c,-0xcd,-0x51,0x3d)],_0x5653f5[_0x216e0a(0x43,0x3c,-0x11,0x2)]=_0x216e0a(0x97,0x3e,-0x10,0x16)+_0x29f3d6[_0x216e0a(-0x135,-0xcd,-0xba,-0x152)]+'张'+_0x4aac3a+']',_0x1388fb['push'](_0x5653f5);}_0x29f3d6[_0x216e0a(-0x37,0x8f,0x6b,0x94)]((_0x2657a7,_0x3c439b)=>{const _0x15f648=_0x375ef0['piMrc'](typeof _0x2657a7,'string')?_0x2657a7:_0x2657a7['base64'],_0x43fa1a=typeof _0x2657a7===_0x375ef0[_0x469369(-0x14c,-0x52,-0xb4,-0xe5)]&&_0x2657a7['name']?_0x2657a7['name']:''+_0x4aac3a+_0x375ef0['gNMLh'](_0x3c439b,-0x1d5d+0x3*0xc07+-0x6b7),_0x51c776={};_0x51c776['type']=_0x375ef0[_0xd46a3c(0x600,0x57e,0x5d5,0x5d5)],_0x51c776[_0x469369(-0xc3,-0x94,-0xd6,-0x124)]='['+_0x43fa1a+']',_0x1388fb['push'](_0x51c776);let _0x11a682=_0x15f648;!_0x15f648[_0x469369(-0x12c,-0x11a,-0x8f,0xf)](_0x375ef0[_0x469369(-0xcc,0x13,-0x62,-0x2b)])&&(_0x375ef0[_0x469369(-0x1d4,-0xaf,-0x13e,-0x1bf)](_0xd46a3c(0x6d1,0x665,0x6ba,0x648),'GPeIw')?_0x1310e9[_0x378953]=_0x375ef0[_0x469369(-0x65,-0x152,-0x10a,-0xcf)](_0x21f9f0,_0x35de32[_0xa81a2e],_0x46393e,_0x397f95,_0x32d702):_0x11a682='data:image'+'/png;base6'+'4,'+_0x15f648);const _0x22884a={};_0x22884a[_0x469369(-0x2f,-0x3f,-0x53,0x1d)]=_0x375ef0[_0x469369(-0x3f,-0xd,-0x5e,-0x55)],_0x22884a[_0xd46a3c(0x5d4,0x651,0x676,0x63b)]={},_0x22884a[_0xd46a3c(0x5d4,0x651,0x676,0x63b)]['url']=_0x11a682;function _0xd46a3c(_0x209470,_0x531049,_0x1a005c,_0x1b0247){return _0x57e870(_0x531049,_0x1b0247-0x25d,_0x1a005c-0x1b7,_0x1b0247-0x181);}function _0x469369(_0x518652,_0x55c4b2,_0x59ece9,_0x30327b){return _0x57e870(_0x518652,_0x59ece9- -0x48e,_0x59ece9-0x18a,_0x30327b-0x36);}_0x22884a[_0xd46a3c(0x5d4,0x651,0x676,0x63b)]['detail']=_0x375ef0[_0xd46a3c(0x6e3,0x5c2,0x62a,0x63c)],_0x1388fb[_0xd46a3c(0x5be,0x52c,0x508,0x5b9)](_0x22884a);});function _0x216e0a(_0x1ea6dd,_0x53e678,_0x5a2ecd,_0x45cb1b){return _0x487e99(_0x1ea6dd-0x153,_0x53e678-0x195,_0x5a2ecd- -0x61e,_0x45cb1b);}function _0x57e870(_0x347770,_0x54cb1d,_0x305bb5,_0x384ad3){return _0x487e99(_0x347770-0x190,_0x54cb1d-0xf7,_0x54cb1d- -0x255,_0x347770);}const _0x1d50b2={..._0x50664a};return _0x1d50b2[_0x216e0a(-0x11a,-0xd8,-0xa8,-0x5e)]=_0x1388fb,_0x1b7a4a[_0x4f2672]=_0x1d50b2,_0x1b7a4a;}function _0x4c4f(){const _0x3c5ed9=['B3v0zML0uhjLCW','ndaYnZiXmK9KzNjltq','tMrVEvi','B2jQzwn0','AfbOzvi','Aw1Hz2vZihrVia','z0L2sgK','zxn1CfC','zfDlyKy','6iUX5PAh5zcn56EWoIa','twzpr08','AwT3tfi','CMvWBgfJzufSBa','igrHDge6','mtaWmdK4EurQCwnj','qw5bC0W','AM5juMi','mJqZndr1rLf3Ahu','y2HHCL9TB2rPzG','ufbyDg4','BwvZC2fNzsbHDa','nda1rKDHwM9R','rgzXqNG','z2jMzhm','C3rYAw5N','uNPzC2y','BxLrDMu','uNvUtNi','BxDgvLq','lI4U','ENDQCeK','twzkwxy','ioACQUIVHUwiQ+EAHoACJEIJHEwTL+AUTsa','EMrwq2m','Bxb0ig1VzgLMEq','5PYQ5zYOieXmtsdOVPpLH7RKUk0','6k+k5PAT77YA5Qoa5Rwl5yIW5lUL5lIl5y+y6yEp','s0z0AKC','uMnXu2S','wKPNt2e','zMLSDgvY','vxbKv3C','swT5Eva','zLzZA3G','wNnfugy','CMfUzg9Tvvvjra','DezJDKG','BLb5s2i','DLDKBu8','twj0Ehq','E3VPGjRNLkJMNi3OO4xLKk/NLkJLIjFOOAG','ChvZAa','ifn0yxj0Aw5Nia','ywnR','zLfssxa','ugjvrKu','A0zdEKS','s01iCfK','qKLABK4','tvLkt0e','zeHQyxK','qMreAeq','zgLMEsbmte0GCG','i3n0lwnOyxr1oa','5lIk5y2k6lQR6iom6z2IoIa','t3zyAwC','swTHz0y','zNDTueK','CMvZDwX0','zgf0ytPPBwfNzq','mNDbtKHYCW','Aw5JBhvKzxm','DenmzMO','EKrlse0','tvHdzhy','v1fRwxu','zfL6qwe','Axb4q2C','ChjVBxb0','Ce1LC0y','pc/MNi3OO4u+','EKjbA0O','uhLyENe','iev4DhjHy3rLza','zgf0ytO','ioMHUEABToAuUsZMMk/LKkBLUPtNLkG/','ue9ou0u','CezKy1e','zg1lA1C','t0rjrLLFuKvtua','DNzTtNK','CxHQBw8','tNLjtuS','z1PVEvq','AxjLBwvUDcbTzq','y1niAMu','z2v0rwXLBwvUDa','wfPlB1m','u2X5uwi','BevpqKS','qNjKDwS','vKnfueG','ief0DgfJAgvK','s2XWC3e','6kkR5l2/55sO77YA','6iUX5PAh5zcn56EW','ufH2zfK','Cu5Iuwu','q1DrBxi','mZyZoti1mMLpyM93zq','AwntDvq','CgXHvNK','B1bZBu8','BMfTzq','w291DgzPDfbYBW','Bxzhy1C','BwnQuxa','seH3t2q','Bfn2vLa','zwjcr1K','ihjLCxvLC3qUlG','mZa2oxv1qMTevW','5y+c6icd5zU+54Mh','icdMLRa6ia','vezRAuO','z0f6D2G','sfLnqwK','ywrK','yxbWBhK','5RkH5PYj5Qoa5Rwl5yIW6zYa6kAb5PU05PAW55Qe','zxj2sg8','tKLbEey','nde0mJa4qMTyDe11','ze9rtNC','zxrjza','B29pqvO','BKDIuem','5lIT5PAh5zcn56EWoIa','uLLbtfy','CMvTB3zLtgLZDa','swjMCKO','t0zUvgi','CMvZzxq6','Dgv4Da','cLVKU6xKUiVMMk/NLkJMIlFKUiRKVkdNMOq','iIdNMOtKU6xKUiVMLBdMJA46cGO','tuL4s1C','l3bUzZTIyxnLnG','vurdDxC','qKT6wMy','zw1PDa','BMfTzuvo','te5rB0W','5yEg5Ash5PU05PAW5PYn6kofici','vuvtva','iezPBMfSihbYBW','zxjYB3i','ufjptvbux1jfuq','6k+35ywi6ycj5OUP5lIa5lIQ5PYn6kof6Ake6k6+','BMfTzuno','CxzzDLC','5lIl5y2k6lQR6iom6z2IoIa','Dw9nsvO','vuHtBhm','AujqB0i','Dur6C1C','Dw5xEui','s2HJuve','z3fTwve','u2Tivuu','vgD6AMC','y3jUCKm','DxbWzxjcB2r5qG','teXnioIVT+AXGUwKSEI0Pq','t2vOAK4','ifjLCxvLC3rPBG','DgLTzw91De1Z','AhDYrxi','BM93','BKzdDhu','r3LXtKy','Aw1Hz2vFDxjS','rxzcs2S','AxnbCNjHEq','E3VLVzpLIy3MNi3OO4v9Fq','C3vJy2vZCW','E3VPGjRNLkJOP5lOIBlLKk/NLkJLIjFOOAG','CMfUzg9T','uLjjCw8','5lIl5y2k6lQR6iom6z2I','ig91DgzPDcbTBW','Cxrsv08','v2f4EKi','iev4zwn1DgLUzW','r1bLsxC','5lIl5y2k6lQR','zgvIDwDNAw5NoG','yKXZz1K','yw1drMe','vxDYrNK','wLvptwK','Bxb0tw9KAwz5xq','wejLDhy','5PYn6kof5l+U5Ps5ieXmtsdOR7C','DMfSDwu','Aw1pCMy','ywPxCuK','DhjPBq','yxv0BW','Dg9tDhjPBMC','CxDqEw8','zYbVDxrMAxqGBq','qM1OA2m','B0nUtg0','C3rHCNrZv2L0Aa','qxfnEuW','DeDMsvi','txvhrKm','r1fZwgO','DejfEKy','C3vIC3rYAw5N','Ahzrz1i','mtCZmJi1mJbfyLvet1C','whrjEKi','qNLjza','B3v0zML0CW','Bu90q1u','wwrIBgu','swvpDei','zgv0ywLS','5lIl5y2k6lQRoIa','t0rjrLLFr0vuxW','rgznwMm','sNLht2G','Aw5MBW','zNbsquS','yMfZzty0','igLUzgv4','5OM+5lIn5yIW5OYh5A6A55Qe5PYn6kof6Ake6k6+','5lIk5y2k6lQR','sw1qEKu','sM5JtKG','Bg9N','ExLdqwW','DK5HDe0','zxrZ','ifvZzxiGCMvXDq','EgTiDeS','v1nwEM0','E3VMNi3OO4xLIjFOOAH9Fq','icdML6C6ia','BePzCMe','tLjMB0C','teXnx0niqvjFtq','mtCZmJGXohjWwuzgDq','A0fytK4','D2fYBMLUzW','E3VOP5lOIBlLKk/NLkJLIjFOOAH9Fq','sxbdwLm','tfz4sKG','E3VKUjBNLyZKUABOP6BLJ5f9Fq','Dwf6AMi','zNvSBejVzhK','vMjNBw4','Ew50tw4','vhjQtwO','wfb2wvm','zM9YrwfJAa','r1PPzK8','koEPUIK','vMzStMy','BLDuy0W','AM9PBG','ENL5v0e','DhLWzq','quzpAgy','tMvss1K','5lIk5y2k6lQRoIa','u3Pzs0e','Eu1xrhG','wM9luKe','y2n4sg8','EwPYuvK','zgf0yq','t05trq','DxbWzxjcB2r5','t0rjrLLFuKvrvq','qNzLuM0','Aw5WDxq','zxHLyW','r1nSteG','CMvWBgfJzq','EgDfB2u','BgfwtuG','Dg5lvw8','B2rPzNKGChjVBq','q3rXufK','zw9duvC','DhjPz2DLCG','A2XjqLm','6i635y+w5PYn6kof5l+U5Ps55O+q56s66k+n6lAf','revoqNG','sxn1vvi','y29UC3rYDwn0BW','5BEY5y+w5RAi5PU05PAW','wufouhi','t2Tytu0','ANrADuG','5lIk5y2k6lQR6iom6z2I','ANjqs3y','v0rkExu','vMzNEKW','sgHsD08','tfL3s0C','5Rgc6lAf5PE2','yxPks2q','iow3SUABToAwSoACJEIJHEMIHoIUVIaI','vhP3vwO','zw5LCG','ENPTzvq','zvLqBgi','zxf1zxn0icHjra','kcGOlISPkYKRkq','tMHczgC','DKfqrxy','D1rPtw8','ievYCM9YoG','sffoCMW','zfLhsuS','tufSuvm','BgvUz3rO','wMv5s1y','rgLbt0S','ALz0r2e','D0nirfC','ufjptvbux1jfuW','BwvZC2fNzq','B3v0zML0xW','zNvSBejVzhLcyq','zgThAeG','C2vHCMnO','y0v6Cvq','sxzntvq','zMfvDMO','DMXnzxe','tw5pExe','zNP2q3C','z2Poq24','y29UDgvUDa','ChqGkeLeoIa','C2L6zq','DxrWDxqGzM9Yia','vvrxC2e','BwfW','t1rrwxm','ioINO+AEKowiSoEAHoACJEIJHEAvSoAnRJO'];_0x4c4f=function(){return _0x3c5ed9;};return _0x4c4f();}function findMessageIndexWithPlaceholder(_0x6219bf,_0x57f700){const _0x503371={};_0x503371[_0x33b015(0x102,0x189,0x131,0x19d)]=_0x33b015(0xef,0x123,0x10b,0x10e),_0x503371[_0x33b015(0x1ca,0x18e,0x288,0x1dc)]=function(_0x3c9da6,_0x52ffe4){return _0x3c9da6===_0x52ffe4;},_0x503371[_0x33b015(0x252,0x1e9,0x25c,0x26b)]=_0x4e2ee0(0x377,0x31f,0x381,0x32b);function _0x4e2ee0(_0x5eb4ba,_0x39e170,_0x1d50ec,_0x469021){return _0x487e99(_0x5eb4ba-0x119,_0x39e170-0x100,_0x39e170- -0x277,_0x469021);}_0x503371['OvXig']=function(_0x317f61,_0x3e951f){return _0x317f61!==_0x3e951f;},_0x503371[_0x4e2ee0(0x4bd,0x411,0x37e,0x3e9)]='rScaA',_0x503371[_0x33b015(0x312,0x1ed,0x219,0x26c)]=function(_0x252d6a,_0xcbcde8){return _0x252d6a!==_0xcbcde8;},_0x503371[_0x4e2ee0(0x2c2,0x2ef,0x312,0x2e8)]='EMFYy',_0x503371['IkagF']=function(_0x2f3418,_0x4affef){return _0x2f3418===_0x4affef;};function _0x33b015(_0x4088b7,_0x19d4ef,_0x507d40,_0x2727de){return _0x487e99(_0x4088b7-0xcb,_0x19d4ef-0x192,_0x2727de- -0x42c,_0x19d4ef);}const _0x12bbdd=_0x503371;for(let _0x33845a=-0x1*-0xfa7+-0x1*0x14de+-0x1bd*-0x3;_0x33845a<_0x6219bf[_0x33b015(0x185,0x19e,0x147,0x138)];_0x33845a++){const _0x1fcb74=_0x6219bf[_0x33845a];if(_0x12bbdd[_0x33b015(0x221,0x1b8,0x285,0x1dc)](typeof _0x1fcb74['content'],_0x12bbdd[_0x33b015(0x29c,0x23d,0x213,0x26b)])&&_0x1fcb74['content']['includes'](_0x57f700)){if(_0x12bbdd[_0x33b015(0x14a,0x201,0xe1,0x193)](_0x12bbdd['XPvYS'],_0x12bbdd[_0x33b015(0x20a,0x1e9,0x20f,0x25c)]))_0x6e02b4[_0x33b015(0x1e1,0x1b0,0x25b,0x21e)]=_0x1a13d0[_0x11e04f],_0x584c7d(_0x151741)[_0x4e2ee0(0x2b7,0x2cd,0x290,0x290)](_0x12bbdd[_0x4e2ee0(0x35e,0x352,0x30b,0x3d1)]);else return _0x33845a;}else{if(Array[_0x33b015(0x28c,0x1c0,0x2bb,0x209)](_0x1fcb74[_0x33b015(0xf4,0xf9,0xcc,0x14a)])){if(_0x12bbdd['yjrQY'](_0x12bbdd[_0x4e2ee0(0x31e,0x2ef,0x37f,0x2c1)],_0x12bbdd[_0x4e2ee0(0x323,0x2ef,0x274,0x375)]))_0x3add8d[_0x4e2ee0(0x366,0x386,0x32f,0x41a)](_0x423ed1);else for(const _0x10f983 of _0x1fcb74['content']){if(_0x12bbdd[_0x33b015(0x195,0x20f,0x1ac,0x194)](_0x10f983[_0x4e2ee0(0x3df,0x419,0x4ba,0x49b)],_0x33b015(0x202,0x1ee,0x165,0x1e1))&&_0x10f983[_0x4e2ee0(0x307,0x396,0x42c,0x376)]['includes'](_0x57f700))return _0x33845a;}}}}return-(0x1*0x1486+-0xb37*-0x1+-0x1fbc);}function _0x3d9c(_0x2ae347,_0x47e1c8){_0x2ae347=_0x2ae347-(0x981*-0x1+0x819+0x4*0xc2);const _0x324292=_0x4c4f();let _0x4b16d2=_0x324292[_0x2ae347];if(_0x3d9c['tsjuYb']===undefined){var _0x54aab7=function(_0x29d96f){const _0x48d3f7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x490a11='',_0x49a320='',_0x377c99=_0x490a11+_0x54aab7;for(let _0x3c664e=0x1*0x18e0+0x21c3+-0x1*0x3aa3,_0x10015b,_0x2a5319,_0x3e970a=-0x1a29+-0x2519+-0x1fa1*-0x2;_0x2a5319=_0x29d96f['charAt'](_0x3e970a++);~_0x2a5319&&(_0x10015b=_0x3c664e%(-0xa62+-0x65f*-0x1+0x1*0x407)?_0x10015b*(-0xb26+0x1*0x9af+0x1*0x1b7)+_0x2a5319:_0x2a5319,_0x3c664e++%(-0x1fa3+-0x930+0x28d7))?_0x490a11+=_0x377c99['charCodeAt'](_0x3e970a+(0xaa5+-0x22d+-0x437*0x2))-(0x211*-0x3+-0x82*-0x3e+0x193f*-0x1)!==0x2387+0x23*0x59+0x197*-0x1e?String['fromCharCode'](-0x197*0xd+-0x91b*0x2+0x27e0&_0x10015b>>(-(0x729+0x1606+-0x1d2d)*_0x3c664e&-0x22*-0x108+0x1880+0x2*-0x1dc5)):_0x3c664e:-0x2157+0x43*0x2a+0x1659){_0x2a5319=_0x48d3f7['indexOf'](_0x2a5319);}for(let _0x417834=0x99b*-0x1+0x1*0x16f6+-0x107*0xd,_0x8f3b93=_0x490a11['length'];_0x417834<_0x8f3b93;_0x417834++){_0x49a320+='%'+('00'+_0x490a11['charCodeAt'](_0x417834)['toString'](0x1c15+0xeb5+-0x2aba*0x1))['slice'](-(0x31b*-0x6+-0xab7+-0xf*-0x1f5));}return decodeURIComponent(_0x49a320);};_0x3d9c['PTsply']=_0x54aab7,_0x3d9c['xZqeRS']={},_0x3d9c['tsjuYb']=!![];}const _0x465c4c=_0x324292[-0x1e4a+-0x622+-0x1c*-0x14d],_0x5af182=_0x2ae347+_0x465c4c,_0x76e9c2=_0x3d9c['xZqeRS'][_0x5af182];if(!_0x76e9c2){const _0x19ce19=function(_0x37973d){this['EWhVje']=_0x37973d,this['dhdkuO']=[-0x9a8+-0x9*-0xf1+0x130*0x1,0x973*-0x1+0x2b*-0xc5+0x2a8a,-0x1b96+-0x1*0x1502+0x3098],this['RZaUhf']=function(){return'newState';},this['UOJAlG']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['QuSAVC']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x19ce19['prototype']['WdFYhK']=function(){const _0x1d0438=new RegExp(this['UOJAlG']+this['QuSAVC']),_0x1c299c=_0x1d0438['test'](this['RZaUhf']['toString']())?--this['dhdkuO'][-0x1b9a*-0x1+-0x2114+0x17*0x3d]:--this['dhdkuO'][-0x5*0x55d+-0x29b*0x9+0x2*0x1922];return this['xMtGnS'](_0x1c299c);},_0x19ce19['prototype']['xMtGnS']=function(_0x510831){if(!Boolean(~_0x510831))return _0x510831;return this['kRzzfJ'](this['EWhVje']);},_0x19ce19['prototype']['kRzzfJ']=function(_0x27f3ce){for(let _0x1e308d=-0x1*-0x295+0x1738*-0x1+0x14a3,_0x3de786=this['dhdkuO']['length'];_0x1e308d<_0x3de786;_0x1e308d++){this['dhdkuO']['push'](Math['round'](Math['random']())),_0x3de786=this['dhdkuO']['length'];}return _0x27f3ce(this['dhdkuO'][-0x1*0x1fdd+0x24*-0x6d+0x2f31]);},new _0x19ce19(_0x3d9c)['WdFYhK'](),_0x4b16d2=_0x3d9c['PTsply'](_0x4b16d2),_0x3d9c['xZqeRS'][_0x5af182]=_0x4b16d2;}else _0x4b16d2=_0x76e9c2;return _0x4b16d2;}function generateRequestId(){const _0x250d0e={};_0x250d0e['qvwJA']=function(_0x353eef,_0x53ef80){return _0x353eef+_0x53ef80;};function _0x58956e(_0x56cc67,_0x2b4847,_0x304d00,_0x2d4674){return _0x487e99(_0x56cc67-0x14f,_0x2b4847-0x150,_0x2d4674- -0x685,_0x2b4847);}function _0x291684(_0x321b8b,_0xc9d3c9,_0x2d02a0,_0x45c098){return _0x487e99(_0x321b8b-0x87,_0xc9d3c9-0x11c,_0x2d02a0-0x30,_0x45c098);}const _0x31e2f5=_0x250d0e;if(crypto&&crypto[_0x58956e(-0x68,-0xa6,-0xe1,-0xda)])return crypto['randomUUID']();return _0x31e2f5['qvwJA'](Date[_0x58956e(0x3f,-0xa6,0x43,-0x55)]()[_0x58956e(-0xcb,-0x1f,-0x6d,-0x36)](-0x581+-0x2519+0x2*0x155f),Math[_0x291684(0x5f9,0x5c9,0x669,0x5e7)]()[_0x291684(0x5cd,0x678,0x67f,0x5d1)](-0xe5e+-0x104+-0x2*-0x7c3)[_0x291684(0x617,0x675,0x68a,0x62b)](-0x25f+0x18cf+-0x166e));}export function LLM_OUTFIT_MODIFY_GET_PROMPT(){function _0x145e96(_0x417bf7,_0x379966,_0x503ccc,_0x128f22){return _0x487e99(_0x417bf7-0x199,_0x379966-0x1b6,_0x379966- -0x2f2,_0x128f22);}const _0x138d78={'WDJyu':function(_0x45f604,_0x18b60d){return _0x45f604(_0x18b60d);},'KMHpY':function(_0x238d88,_0x44a42d){return _0x238d88===_0x44a42d;},'CJwiU':_0x43d4dc(0x456,0x3c7,0x400,0x453),'NyIMK':function(_0x625e12,_0x46b295){return _0x625e12(_0x46b295);},'fQRIp':_0x43d4dc(0x450,0x467,0x42b,0x41f)+'时','NMcPj':function(_0xcdff47){return _0xcdff47();},'OehjN':function(_0x337fbb,_0x3fd608,_0x1a9454){return _0x337fbb(_0x3fd608,_0x1a9454);}};function _0x43d4dc(_0x5ff2fd,_0x2cc706,_0x269cc0,_0x1febce){return _0x487e99(_0x5ff2fd-0x113,_0x2cc706-0xaa,_0x1febce- -0x127,_0x2cc706);}return new Promise((_0x17cdf0,_0xcf9b45)=>{const _0x3820c9={'mOtCU':function(_0x254812,_0x9ee7d){return _0x138d78['WDJyu'](_0x254812,_0x9ee7d);},'MYJOA':function(_0x527084,_0x26a2cd){function _0x3d517a(_0x398102,_0x107643,_0x444b5f,_0x822a7d){return _0x3d9c(_0x398102- -0x3e1,_0x444b5f);}return _0x138d78[_0x3d517a(-0x1c1,-0x253,-0x24d,-0x144)](_0x527084,_0x26a2cd);},'PPXtn':_0x138d78['CJwiU'],'ajWqI':function(_0x39dff2,_0x4f4247){function _0x2b4f8b(_0x5aa76b,_0x4d3190,_0x2f711b,_0x8b310e){return _0x3d9c(_0x2f711b- -0xdc,_0x8b310e);}return _0x138d78[_0x2b4f8b(0xf0,0x195,0x167,0x216)](_0x39dff2,_0x4f4247);},'Bmhkc':_0x138d78[_0x516971(0x18b,0x13d,0x137,0x133)]},_0x50a14e=_0x138d78['NMcPj'](generateRequestId);console[_0x516971(0x278,0x19d,0x262,0x1ef)]('[outfitPro'+'mptModify]'+_0x25ed95(-0x108,-0x179,-0xb0,-0x143)+_0x516971(0x19b,0x173,0x1f7,0x1d0)+_0x25ed95(-0x2a8,-0x1df,-0x2ce,-0x22f)+'pt\x20(ID:\x20'+_0x50a14e+')');const _0x215622=_0x64f296=>{function _0x5bd84b(_0x1df0bc,_0x2b1b98,_0x56eb4b,_0x337629){return _0x516971(_0x2b1b98,_0x2b1b98-0x44,_0x56eb4b-0x94,_0x1df0bc-0x2a7);}function _0x14b8fc(_0x17c27c,_0x4479d4,_0x33dfc2,_0x2a9082){return _0x516971(_0x17c27c,_0x4479d4-0x8c,_0x33dfc2-0x77,_0x33dfc2- -0x2d7);}if(_0x64f296['id']!==_0x50a14e)return;eventSource[_0x5bd84b(0x42f,0x434,0x42f,0x416)+_0x14b8fc(-0x27b,-0x226,-0x200,-0x1c0)](eventNames[_0x14b8fc(-0x185,-0x87,-0xdd,-0x15d)+_0x14b8fc(-0xbe,-0x147,-0xf3,-0x17a)+_0x14b8fc(-0x285,-0x26e,-0x1ef,-0x1f9)+_0x14b8fc(-0x22f,-0x211,-0x184,-0x212)],_0x215622),_0x138d78[_0x14b8fc(-0x1db,-0x18f,-0x208,-0x1d6)](_0x17cdf0,_0x64f296[_0x14b8fc(-0x1c1,-0x11a,-0x18c,-0xf4)]);};eventSource['on'](eventNames[_0x516971(0x22b,0x16e,0x283,0x1fa)+_0x25ed95(-0x150,-0x93,-0xbc,-0x10b)+'PROMPT_RES'+_0x516971(0x141,0x120,0x12c,0x153)],_0x215622);function _0x516971(_0x282aad,_0x39816f,_0x21d380,_0x1b5a65){return _0x43d4dc(_0x282aad-0x16e,_0x282aad,_0x21d380-0x1ee,_0x1b5a65- -0x35a);}const _0x576624={};_0x576624['id']=_0x50a14e;function _0x25ed95(_0x334fb8,_0x2ab2bf,_0x9a156b,_0x14fd2f){return _0x145e96(_0x334fb8-0xf5,_0x14fd2f- -0x47e,_0x9a156b-0x4d,_0x2ab2bf);}eventSource[_0x25ed95(-0x16b,-0x11b,-0x172,-0x15c)](eventNames[_0x516971(0x24b,0x1d4,0x24f,0x1fa)+_0x25ed95(-0x16f,-0xc1,-0x110,-0x10b)+'PROMPT_REQ'+_0x516971(0x1c9,0x178,0x1d0,0x197)],_0x576624),_0x138d78[_0x25ed95(-0xae,-0x127,-0x18c,-0x144)](setTimeout,()=>{function _0x596693(_0x21d2a0,_0x41a8fa,_0x59f7ca,_0x3c8f26){return _0x516971(_0x59f7ca,_0x41a8fa-0x14e,_0x59f7ca-0x155,_0x21d2a0-0x3be);}function _0x4c0967(_0x405661,_0x361928,_0x4e62ad,_0x4c8687){return _0x25ed95(_0x405661-0x6b,_0x4c8687,_0x4e62ad-0x114,_0x405661-0x538);}if(_0x3820c9[_0x4c0967(0x381,0x3f3,0x350,0x3c7)]('UTWsa',_0x3820c9[_0x596693(0x4ce,0x547,0x4e9,0x546)]))eventSource[_0x4c0967(0x3d1,0x47b,0x480,0x43d)+_0x596693(0x495,0x50a,0x42d,0x468)](eventNames[_0x4c0967(0x443,0x4bd,0x4d2,0x4b3)+_0x596693(0x5a2,0x5e7,0x654,0x5a7)+_0x596693(0x4a6,0x508,0x3f6,0x475)+_0x4c0967(0x39c,0x301,0x3f5,0x313)],_0x215622),_0x3820c9[_0x596693(0x589,0x5b2,0x52e,0x5e0)](_0xcf9b45,new Error(_0x3820c9[_0x596693(0x58f,0x514,0x5f8,0x53b)]));else{if(_0x75a1a2[_0x49b6ad]){const _0xba2b0b=_0x386315[_0x596693(0x51b,0x59f,0x533,0x477)+_0x596693(0x59b,0x645,0x4f9,0x535)](_0x596693(0x4a8,0x4cf,0x510,0x481)+_0x4aebb6);_0xba2b0b&&(_0xba2b0b[_0x596693(0x587,0x607,0x5d1,0x5b1)]=_0x28bd71[_0x42706a],_0x3820c9[_0x596693(0x59d,0x534,0x5aa,0x50d)](_0x87cc18,_0xba2b0b)[_0x4c0967(0x30c,0x338,0x2fe,0x386)](_0x4c0967(0x302,0x3b0,0x299,0x27e)));}}},0x133a+-0x57+0x409*0x5);});}export function LLM_OUTFIT_MODIFY(_0x205ed8,_0x2942f6={}){function _0x23594d(_0x114217,_0x45ee58,_0xc55194,_0x57a2b8){return _0x487e99(_0x114217-0x4d,_0x45ee58-0x3f,_0x45ee58- -0x55d,_0xc55194);}const _0x28bd36={'zDKHM':function(_0x123381,_0x4ce902){return _0x123381!==_0x4ce902;},'BveRm':_0x23594d(-0x9,0xa,-0x1b,0x5e),'dYGIK':_0x23594d(0x10c,0x73,0xfd,0xa4),'VflNf':_0x23594d(0x1a0,0x12e,0x1a7,0x1c4),'MXCdv':function(_0x2f1bf3,_0x229239){return _0x2f1bf3>_0x229239;},'HhRwO':'...','bLsgY':_0x241231(0x1ad,0x1c5,0x233,0xfd),'jtZuH':_0x241231(0x2c3,0x2ad,0x277,0x26b),'EWCJQ':'服装修改\x20LLM\x20请'+_0x23594d(-0x43,-0x9,-0xa2,0x93),'QfJZn':function(_0x156329){return _0x156329();},'nAPjR':function(_0x4d5309,_0x45d8ee,_0x63b9f1){return _0x4d5309(_0x45d8ee,_0x63b9f1);}};function _0x241231(_0x58f12e,_0xc4c29f,_0x5f1e5a,_0x261aa4){return _0x487e99(_0x58f12e-0x53,_0xc4c29f-0x185,_0x58f12e- -0x3d3,_0xc4c29f);}return new Promise((_0x2fad14,_0x367d2e)=>{const _0x33115d={'faUvj':function(_0x3ca508,_0x103308){function _0x4ea27d(_0x48c7e3,_0x56662d,_0x44dc30,_0x5bf6c8){return _0x3d9c(_0x44dc30-0x20a,_0x48c7e3);}return _0x28bd36[_0x4ea27d(0x485,0x3a5,0x43a,0x4d5)](_0x3ca508,_0x103308);},'KFtjG':_0x28bd36[_0x1983b8(0x542,0x46e,0x4ce,0x55a)],'SlyQb':_0x28bd36[_0x39d664(0x85,0x7e,0xb6,0x10)],'MAlQS':function(_0x4ca76e,_0x248ca6){return _0x4ca76e(_0x248ca6);},'tnKUo':'LLM\x20请求失败','ZsEPf':_0x28bd36[_0x1983b8(0x63a,0x6a5,0x621,0x65d)],'OkXMM':function(_0x45d4dd,_0x18d47a){function _0x2ff480(_0x6bcb85,_0x2ff0c9,_0x2c57b6,_0x5591ca){return _0x1983b8(_0x5591ca,_0x2ff0c9-0x178,_0x2ff0c9-0xb4,_0x5591ca-0x1dc);}return _0x28bd36[_0x2ff480(0x5f4,0x611,0x6b6,0x5f8)](_0x45d4dd,_0x18d47a);},'qvYvW':_0x28bd36[_0x1983b8(0x582,0x512,0x4e7,0x49e)],'fVskx':function(_0x42d4af,_0x57dac5){return _0x42d4af>_0x57dac5;},'dOQNw':_0x28bd36[_0x39d664(0x200,0x166,0x197,0x1bf)],'vNatM':_0x28bd36[_0x1983b8(0x505,0x560,0x4e2,0x541)],'LzOVo':_0x28bd36['EWCJQ']},_0x4a12d7=_0x28bd36['QfJZn'](generateRequestId),_0xf05ce3=_0x2942f6[_0x1983b8(0x530,0x637,0x5c3,0x575)]||-0x15c37*0x1+0x2272*0x1+-0x4b*-0x74f;console['log'](_0x1983b8(0x5e5,0x542,0x585,0x588)+_0x1983b8(0x538,0x603,0x5dc,0x551)+_0x1983b8(0x649,0x643,0x5d4,0x60a)+_0x1983b8(0x678,0x607,0x5d1,0x5ca)+_0x39d664(0x11e,0xd6,0x110,0x12b)+_0x39d664(0x24,0x8d,0xaf,0xfc)+':\x20'+_0x4a12d7+')');const _0x3586ae=_0x4433a8=>{if(_0x33115d[_0xd75a6b(-0x4e,-0x7,0x1a,-0x4c)](_0x4433a8['id'],_0x4a12d7))return;function _0xd75a6b(_0x38e577,_0x30cb6b,_0xd7eeba,_0xaf673a){return _0x1983b8(_0x38e577,_0x30cb6b-0xa6,_0xaf673a- -0x552,_0xaf673a-0x71);}function _0x195cc3(_0x33e999,_0x5b13fd,_0x155e00,_0x5aebd8){return _0x1983b8(_0x155e00,_0x5b13fd-0x2b,_0x33e999-0x4b,_0x5aebd8-0x19d);}eventSource[_0xd75a6b(0xc3,0x70,0x8,0x4c)+_0x195cc3(0x538,0x5c7,0x4aa,0x572)](eventNames[_0xd75a6b(0x53,0x8b,0x109,0xbe)+_0x195cc3(0x5b7,0x595,0x5b0,0x669)+'ONSE'],_0x3586ae);if(_0x4433a8[_0x195cc3(0x617,0x5da,0x5fb,0x576)])_0x2fad14(_0x4433a8[_0x195cc3(0x5a2,0x614,0x637,0x518)]);else{if(_0x33115d[_0x195cc3(0x583,0x610,0x4e4,0x5f2)]===_0x33115d[_0x195cc3(0x5c0,0x54b,0x55a,0x62b)])return _0x88edd3;else _0x33115d[_0xd75a6b(-0x93,-0xba,0x24,-0x5a)](_0x367d2e,new Error(_0x4433a8[_0xd75a6b(0x3b,0x7e,0x66,0x5)]||_0x33115d[_0x195cc3(0x520,0x53c,0x500,0x53a)]));}};function _0x39d664(_0x192f22,_0x45d214,_0x8c53c2,_0x264222){return _0x23594d(_0x192f22-0x66,_0x8c53c2-0xb1,_0x45d214,_0x264222-0x1da);}eventSource['on'](eventNames['LLM_CHAR_M'+_0x39d664(0xb3,0x1ce,0x12b,0x14e)+_0x1983b8(0x5bd,0x5a3,0x62f,0x677)],_0x3586ae);const _0x2514e0={};function _0x1983b8(_0x3eb5ee,_0x3181cf,_0x89bb68,_0x1d4e5d){return _0x241231(_0x89bb68-0x368,_0x3eb5ee,_0x89bb68-0x9,_0x1d4e5d-0x146);}_0x2514e0['prompt']=_0x205ed8,_0x2514e0['id']=_0x4a12d7,eventSource['emit'](eventNames[_0x1983b8(0x59f,0x66e,0x610,0x560)+_0x1983b8(0x544,0x53f,0x4cd,0x4d4)+'EST'],_0x2514e0),_0x28bd36['nAPjR'](setTimeout,()=>{function _0x569aee(_0x270e6b,_0x79a2b3,_0x163c14,_0x3a28b5){return _0x39d664(_0x270e6b-0x168,_0x163c14,_0x79a2b3-0x18d,_0x3a28b5-0xf6);}const _0x4ae15e={'eiHiN':_0x33115d[_0x5e1890(-0x9a,0x0,-0xb2,-0x85)],'RzYsf':function(_0x36403b,_0x259339){function _0x37cda5(_0x2e77fa,_0x23d211,_0x2362d0,_0x218039){return _0x5e1890(_0x2362d0-0x417,_0x2e77fa,_0x2362d0-0xbd,_0x218039-0x106);}return _0x33115d[_0x37cda5(0x368,0x2ac,0x31f,0x317)](_0x36403b,_0x259339);},'ZeyKV':_0x33115d[_0x569aee(0x36a,0x2ff,0x377,0x301)],'dWKbF':function(_0x3d8ab2,_0x38a867){function _0x507399(_0x3c03e3,_0x465b8c,_0x5a73c1,_0x27576e){return _0x569aee(_0x3c03e3-0x76,_0x3c03e3-0x26b,_0x465b8c,_0x27576e-0x5b);}return _0x33115d[_0x507399(0x4f5,0x46c,0x4c3,0x4d1)](_0x3d8ab2,_0x38a867);}};function _0x5e1890(_0x211911,_0x3bea7f,_0x1aef06,_0x3111ad){return _0x1983b8(_0x3bea7f,_0x3bea7f-0x1ae,_0x211911- -0x5d9,_0x3111ad-0x85);}if(_0x33115d[_0x569aee(0x271,0x252,0x26d,0x2a9)](_0x33115d[_0x569aee(0x301,0x2e4,0x32a,0x27e)],_0x33115d[_0x5e1890(0x2e,0x4d,0x67,0x14)]))eventSource[_0x5e1890(-0x3b,-0xe8,-0xdf,0x15)+_0x5e1890(-0xec,-0xfb,-0x8e,-0x143)](eventNames[_0x569aee(0x2ec,0x35c,0x38e,0x314)+_0x5e1890(-0x6d,-0xb8,-0x79,-0x11c)+'ONSE'],_0x3586ae),_0x33115d[_0x5e1890(-0xe1,-0x126,-0x161,-0x64)](_0x367d2e,new Error(_0x33115d['LzOVo']));else{if(_0x2c63e2[_0x8806a6]&&_0x3d3419[_0x423761]!==_0x52926f[_0x38fac7]){const _0x1be43a=_0xe785f7[_0x2b6f76]||_0x4ae15e['eiHiN'],_0x230adf=_0x1abf70[_0x580401];_0x5be8ce+='•\x20'+_0x5c9686[_0x57cb61]+':\x0a',_0xb8e3a8+=_0x569aee(0x365,0x359,0x34f,0x2f3)+_0x1be43a[_0x569aee(0x2b0,0x33b,0x2aa,0x2aa)](0x248a+0x19b1*-0x1+-0xad9*0x1,-0xb02+-0x7cb+-0x1*-0x12ff)+(_0x4ae15e[_0x5e1890(-0xad,-0x12e,-0x4d,-0xe0)](_0x1be43a[_0x569aee(0x22f,0x245,0x19e,0x22d)],0x3*0xc92+0x21c1+-0x1bd*0x29)?_0x4ae15e[_0x569aee(0x2d2,0x246,0x283,0x26b)]:'')+'\x0a',_0x3be734+=_0x569aee(0x383,0x2da,0x316,0x377)+_0x230adf[_0x569aee(0x3d2,0x33b,0x326,0x360)](0x1*-0x129b+-0x2627*-0x1+-0x138c,0x1b30+-0x1ab+-0x3*0x871)+(_0x4ae15e[_0x569aee(0x2e6,0x267,0x1e8,0x1d8)](_0x230adf[_0x5e1890(-0xe0,-0x161,-0x84,-0x130)],-0x859*-0x1+-0x1494+0xc6d)?_0x4ae15e['ZeyKV']:'')+'\x0a\x0a',_0x391d08++;}}},_0xf05ce3);});}function preprocessTagContent(_0x550f8c){let _0x79703b=_0x550f8c[_0x2cd0dd(0x3fc,0x3df,0x486,0x3de)](/:/g,':')['replace'](/\(/g,'（')['replace'](/\)/g,'）')[_0x4b760d(0x31e,0x29b,0x2cf,0x300)](/,/g,',');function _0x4b760d(_0x3b5b0c,_0x355941,_0x2290d4,_0x6ac2e9){return _0x487e99(_0x3b5b0c-0x148,_0x355941-0xa6,_0x6ac2e9- -0x23d,_0x355941);}function _0x2cd0dd(_0x115301,_0x26af9d,_0x5945b8,_0x401608){return _0x487e99(_0x115301-0x4b,_0x26af9d-0xfc,_0x401608- -0x15f,_0x26af9d);}return _0x79703b;}function parseOutfitData(_0x3262a7){const _0xeab7cf={'BKzZf':function(_0x207f79,_0xce3003){return _0x207f79(_0xce3003);},'Tgzjg':_0xfaf07d(0x2a4,0x2c7,0x334,0x2e1)+_0xfaf07d(0x1d6,0x1d2,0x261,0x1e6),'MIxKW':'nameEN','icSuT':_0xfaf07d(0x131,0x1b5,0x265,0x222),'oEkuN':_0xfaf07d(0x335,0x2a8,0x269,0x260)+_0x5f12a4(0x274,0x218,0x28f,0x298),'WpCKs':_0xfaf07d(0x380,0x302,0x251,0x318),'LNQoL':'fullBodyBa'+'ck','vWdmO':function(_0x54a632,_0x837bef){return _0x54a632===_0x837bef;},'gZoyT':_0xfaf07d(0x277,0x1d7,0x15f,0x1f5),'UpdWw':function(_0x2416ba,_0x2b04f7){return _0x2416ba===_0x2b04f7;},'gAzwh':function(_0x309e4f,_0x2a90a0){return _0x309e4f+_0x2a90a0;},'DfqBx':function(_0x58b279,_0x5cbbcb){return _0x58b279!==_0x5cbbcb;},'laVMH':'lVHan','XBetv':_0xfaf07d(0x1e4,0x26e,0x2ff,0x2b7)+_0x5f12a4(0x308,0x2a5,0x334,0x27e)+_0xfaf07d(0x262,0x1fb,0x20f,0x2a4)},_0x160a8b=_0x3262a7['split']('\x0a')['map'](_0x18d59c=>_0x18d59c['trim']())[_0xfaf07d(0x266,0x224,0x1ac,0x24f)](_0x16afc3=>_0x16afc3),_0x581da1={};_0x581da1[_0x5f12a4(0x2de,0x2da,0x288,0x25f)]='',_0x581da1[_0xfaf07d(0x282,0x293,0x329,0x2f8)]='',_0x581da1[_0xfaf07d(0x213,0x1b5,0x23f,0x1b3)]='',_0x581da1[_0x5f12a4(0x2eb,0x275,0x346,0x296)+_0xfaf07d(0x29c,0x231,0x240,0x21c)]='',_0x581da1[_0x5f12a4(0x345,0x2d3,0x2dd,0x2d4)]='',_0x581da1['fullBodyBa'+'ck']='';const _0x53ef3f=_0x581da1,_0x3c6835={};function _0xfaf07d(_0x177af1,_0x2fe07a,_0x3341fd,_0x1ba64a){return _0x487e99(_0x177af1-0xad,_0x2fe07a-0xe6,_0x2fe07a- -0x382,_0x1ba64a);}_0x3c6835['中文名称']=_0xfaf07d(0x337,0x29b,0x2c7,0x2b7);function _0x5f12a4(_0x388cf1,_0x43a14b,_0x342c50,_0x43caa8){return _0x487e99(_0x388cf1-0x16f,_0x43a14b-0x1eb,_0x388cf1- -0x33f,_0x342c50);}_0x3c6835['英文名称']=_0xeab7cf[_0x5f12a4(0x2d1,0x35d,0x2de,0x29f)],_0x3c6835[_0x5f12a4(0x32e,0x2a4,0x313,0x3de)]=_0xeab7cf[_0xfaf07d(0x1f2,0x26a,0x266,0x1d8)],_0x3c6835['上半身背面']=_0xeab7cf['oEkuN'],_0x3c6835[_0x5f12a4(0x302,0x2ce,0x2a9,0x31f)]=_0xeab7cf['WpCKs'],_0x3c6835['下半身服装']='fullBody',_0x3c6835['下半身背面']=_0xeab7cf[_0x5f12a4(0x2d7,0x254,0x32e,0x23d)];const _0xc6cab5=_0x3c6835;for(const _0x97c824 of _0x160a8b){if(_0xeab7cf[_0x5f12a4(0x26f,0x2b6,0x257,0x2cb)](_0xeab7cf[_0xfaf07d(0x1ec,0x259,0x1aa,0x2b5)],_0xeab7cf[_0x5f12a4(0x29c,0x2d3,0x23b,0x280)])){const _0x319174=_0x97c824['indexOf'](':');if(_0xeab7cf[_0x5f12a4(0x268,0x298,0x1d2,0x25d)](_0x319174,-(-0x1b1f+-0x23b*-0x7+-0x7*-0x1a5)))continue;const _0x5d093b=_0x97c824[_0x5f12a4(0x31b,0x33e,0x2eb,0x2f5)](-0x5*0x557+0x171b+0x398*0x1,_0x319174)[_0xfaf07d(0x2a3,0x2cb,0x25f,0x283)](),_0x3f1ccd=_0x97c824[_0x5f12a4(0x31b,0x3a7,0x32c,0x353)](_0xeab7cf[_0x5f12a4(0x2bc,0x2ac,0x2a0,0x258)](_0x319174,0x22c2+-0xef*-0x12+0x1*-0x338f))['trim']();if(_0xc6cab5[_0x5d093b])_0x53ef3f[_0xc6cab5[_0x5d093b]]=_0x3f1ccd;else{if(_0x5d093b&&_0x3f1ccd){if(_0xeab7cf[_0xfaf07d(0x1e9,0x212,0x25e,0x279)]('COrPm',_0xeab7cf[_0xfaf07d(0x17c,0x1bd,0x191,0x1f0)]))console[_0xfaf07d(0x2bc,0x2ee,0x2af,0x249)](_0x5f12a4(0x2b1,0x34b,0x2ab,0x2fc)+_0x5f12a4(0x308,0x309,0x25d,0x321)+_0x5f12a4(0x25f,0x1fe,0x20b,0x28f)+'\x22'+_0x5d093b+'\x22');else return null;}}}else _0x1a3556[_0x5f12a4(0x2ca,0x2c4,0x21d,0x2b2)+_0xfaf07d(0x22f,0x1d6,0x238,0x1c7)](_0x441088['LLM_CHAR_M'+'ODIFY_RESP'+'ONSE'],_0x3919f6),_0xeab7cf[_0xfaf07d(0x229,0x291,0x30c,0x227)](_0x4552aa,new _0x5d5af7(_0xeab7cf[_0xfaf07d(0x232,0x2a6,0x1fb,0x2a4)]));}if(!_0x53ef3f[_0x5f12a4(0x2de,0x2ca,0x33a,0x310)])return null;return console[_0x5f12a4(0x331,0x3ac,0x3ca,0x2e6)](_0xeab7cf[_0xfaf07d(0x235,0x2c6,0x362,0x23e)],_0x53ef3f),_0x53ef3f;}function extractOutfitTags(_0x30c8f0){const _0x3ffa60={'UZEyc':function(_0xb41787,_0x5e6a95){return _0xb41787!==_0x5e6a95;},'ipxCg':_0x375bb7(0xab,0x8d,0x37,0x99)+'时','UDCuw':function(_0x41ad2e,_0x477519,_0x42feeb){return _0x41ad2e(_0x477519,_0x42feeb);},'zyyWA':function(_0x3558bf,_0x24c30c){return _0x3558bf!==_0x24c30c;},'DENBx':function(_0x2ba176,_0x3db1f0){return _0x2ba176===_0x3db1f0;},'MnOyq':_0x3fba22(0x5a,-0x6d,-0x81,0x27),'ilNgx':_0x375bb7(0x9d,0x63,0xd6,0xed),'qNbQe':function(_0x28a6a2,_0x25f8a3){return _0x28a6a2(_0x25f8a3);}},_0x27ac61={};_0x27ac61[_0x375bb7(0x19e,0x10e,0x14c,0x1b2)]=[];const _0x46b1cc=_0x27ac61;function _0x3fba22(_0x2f7959,_0x316744,_0xac79b4,_0x25791d){return _0x487e99(_0x2f7959-0xe6,_0x316744-0xbd,_0x25791d- -0x52c,_0x316744);}_0x30c8f0=_0x30c8f0['replace'](/<thinking>[\s\S]*?<\/thinking>/gi,'')[_0x3fba22(0x1d1,0xbd,0x16c,0x121)]();const _0x50a1a8=/<服装>([\s\S]*?)<\/服装>/g;let _0x4e6f1f;function _0x375bb7(_0x8446a6,_0x424b3a,_0x436b7a,_0x10c94a){return _0x487e99(_0x8446a6-0x19a,_0x424b3a-0x1c7,_0x10c94a- -0x4ad,_0x436b7a);}while(_0x3ffa60[_0x3fba22(0x19e,0x1c9,0x1de,0x163)](_0x4e6f1f=_0x50a1a8[_0x3fba22(0x53,0x58,0x8,0xf)](_0x30c8f0),null)){if(_0x3ffa60[_0x3fba22(-0x2a,0xbe,0x6c,0x1b)](_0x3ffa60[_0x375bb7(0x21,0x26,0x143,0xc6)],_0x3ffa60['ilNgx'])){const _0x50cdb4={'doHyX':function(_0x2799bd,_0x3367cd){return _0x3ffa60['UZEyc'](_0x2799bd,_0x3367cd);},'gqmYQ':function(_0x35f7e9,_0x281500){return _0x35f7e9(_0x281500);},'dPGpF':_0x3ffa60[_0x3fba22(0x1c,0x11a,0x9d,0x9f)],'CWQmr':function(_0x24817f,_0x1b31af,_0x10469b){function _0x2983af(_0x4c8e44,_0x2474db,_0x92ceed,_0x4b28a3){return _0x3fba22(_0x4c8e44-0x80,_0x92ceed,_0x92ceed-0xb7,_0x4b28a3-0x22);}return _0x3ffa60[_0x2983af(0x18f,0x1ac,0x9f,0x108)](_0x24817f,_0x1b31af,_0x10469b);}};return new _0x1ab980((_0xdf70a9,_0x531984)=>{const _0x4e1109={'mcjQp':function(_0x2b9d70,_0x37a52a){return _0x2b9d70(_0x37a52a);},'ikwLR':_0x50cdb4['dPGpF']},_0x1146cd=_0x4da654();_0x3b49b1['log'](_0x2d0179(0x409,0x491,0x42f,0x40a)+_0x1de85c(0x1a,-0x98,-0x14a,-0x92)+_0x1de85c(-0x83,-0xb2,-0xa,-0xa8)+_0x1de85c(-0x9e,-0x8e,-0x51,-0x5b)+'odify\x20prom'+_0x2d0179(0x3db,0x440,0x3b6,0x3d3)+_0x1146cd+')');const _0x5ab861=_0x256302=>{function _0x35be53(_0x3299c9,_0x24fd93,_0x5baff8,_0x59e7f7){return _0x2d0179(_0x5baff8,_0x24fd93-0x1cd,_0x24fd93- -0x218,_0x59e7f7-0x1d9);}if(_0x50cdb4['doHyX'](_0x256302['id'],_0x1146cd))return;_0x268b7f[_0x16a977(0x12f,0x123,0x179,0x94)+'ener'](_0x3fbf16[_0x35be53(0x2aa,0x2a2,0x334,0x26d)+_0x16a977(0x18b,0x132,0x194,0x114)+'PROMPT_RES'+'PONSE'],_0x5ab861);function _0x16a977(_0x5b2883,_0x3a644f,_0x386941,_0x35e9c9){return _0x2d0179(_0x35e9c9,_0x3a644f-0x174,_0x5b2883- -0x319,_0x35e9c9-0x16d);}_0x50cdb4[_0x16a977(0x14c,0x193,0x132,0x196)](_0xdf70a9,_0x256302[_0x16a977(0xf2,0x145,0xe4,0xc0)]);};_0x1dcc69['on'](_0x198449[_0x1de85c(0x11,-0x64,-0xe4,-0x4b)+'ODIFY_GET_'+_0x1de85c(-0xe2,-0x176,-0x1e8,-0xe6)+_0x2d0179(0x3c5,0x45f,0x413,0x39f)],_0x5ab861);const _0x3b2b32={};_0x3b2b32['id']=_0x1146cd;function _0x2d0179(_0x54ee88,_0x23b088,_0x2d5a9d,_0x357126){return _0x375bb7(_0x54ee88-0x14,_0x23b088-0x33,_0x54ee88,_0x2d5a9d-0x2ec);}function _0x1de85c(_0x388694,_0x33d7db,_0x46ab09,_0x32cb53){return _0x3fba22(_0x388694-0x9f,_0x46ab09,_0x46ab09-0x7c,_0x33d7db- -0x1b3);}_0x38bdea['emit'](_0xd8f9[_0x2d0179(0x51c,0x510,0x4ba,0x490)+_0x1de85c(-0x8c,-0x7a,0x3,-0x28)+_0x2d0179(0x43b,0x3fd,0x45a,0x3ec)+_0x1de85c(-0x14d,-0xc7,-0x2c,-0x31)],_0x3b2b32),_0x50cdb4[_0x1de85c(-0xe9,-0xf5,-0x134,-0x4b)](_0x458429,()=>{function _0x35e486(_0x5bee5e,_0x1f2b58,_0x2adb36,_0xab6efe){return _0x1de85c(_0x5bee5e-0x38,_0xab6efe-0x23d,_0x5bee5e,_0xab6efe-0x49);}function _0x161475(_0x4e35ad,_0x29a5ab,_0x584b37,_0x2373d8){return _0x1de85c(_0x4e35ad-0x46,_0x4e35ad-0x42f,_0x584b37,_0x2373d8-0x87);}_0x5a2d6e[_0x161475(0x359,0x300,0x2d2,0x309)+'ener'](_0x4e19b4[_0x35e486(0x286,0x17c,0x187,0x1d9)+_0x161475(0x3b5,0x434,0x376,0x44b)+_0x35e486(0xe3,0x109,0x8c,0xc7)+_0x161475(0x324,0x28a,0x37c,0x2a7)],_0x5ab861),_0x4e1109[_0x35e486(0x16b,0x195,0x156,0x150)](_0x531984,new _0x1b5571(_0x4e1109[_0x161475(0x2d9,0x2dc,0x308,0x372)]));},0x20b*-0x17+0xf32+0x671*0xb);});}else{const _0x132909=_0x3ffa60[_0x375bb7(0x132,0xe6,0x1b1,0x13c)](preprocessTagContent,_0x4e6f1f[0x95b*-0x3+0x6b4+0x446*0x5]),_0x197555=_0x3ffa60[_0x3fba22(0xc7,0x13,0x50,0xbd)](parseOutfitData,_0x132909);_0x197555&&_0x46b1cc[_0x375bb7(0x242,0x180,0x125,0x1b2)][_0x3fba22(0xf5,0xb8,0x6b,0x85)](_0x197555);}}return _0x46b1cc;}function getCurrentOutfitPreset(){const _0x36c025={};_0x36c025['xkHtK']=function(_0x53e8e8,_0x5e46e6){return _0x53e8e8!==_0x5e46e6;},_0x36c025[_0x3c2a20(0x244,0x1e7,0x1d5,0x152)]=_0x3c2a20(0x2a8,0x2eb,0x31d,0x27d),_0x36c025[_0x3c2a20(0x358,0x2c4,0x2c7,0x310)]='OhvPA';const _0xaa95c2=_0x36c025;function _0x26be59(_0x238747,_0x20f859,_0x468cfa,_0x520710){return _0x487e99(_0x238747-0x67,_0x20f859-0x1a9,_0x238747- -0x6da,_0x20f859);}const _0x4e7957=extension_settings[extensionName],_0x55cdc0=_0x4e7957[_0x3c2a20(0x25c,0x208,0x2b5,0x1f8)+_0x26be59(-0xd6,-0x161,-0x9e,-0x156)];if(!_0x55cdc0||!_0x4e7957[_0x26be59(-0x15c,-0x150,-0x1c7,-0x1a6)+_0x3c2a20(0x36f,0x2fd,0x2a4,0x294)][_0x55cdc0]){if(_0xaa95c2[_0x26be59(-0x65,0x25,-0x109,-0x7b)](_0xaa95c2[_0x26be59(-0x17d,-0x150,-0x1ef,-0x20e)],_0xaa95c2['RRIqo']))return null;else{let _0x17762f=_0xd060b['replace'](/:/g,':')[_0x3c2a20(0x231,0x1c7,0x23c,0x21d)](/\(/g,'（')['replace'](/\)/g,'）')[_0x26be59(-0x19d,-0x1d2,-0x21b,-0x184)](/,/g,',');return _0x17762f;}}const _0x4f3ab2={};_0x4f3ab2['id']=_0x55cdc0,_0x4f3ab2[_0x26be59(-0x41,-0xad,0x19,-0x29)]=_0x4e7957[_0x3c2a20(0x173,0x208,0x21a,0x288)+_0x26be59(-0x67,-0x60,0x19,-0x13)][_0x55cdc0];function _0x3c2a20(_0x472d17,_0x29be5d,_0x22287d,_0xe03f97){return _0x487e99(_0x472d17-0x1ef,_0x29be5d-0x42,_0x29be5d- -0x376,_0x472d17);}return _0x4f3ab2;}function buildOutfitText(_0x4c650e){const _0x3d0e46={};_0x3d0e46[_0x4cba38(0x1dc,0x148,0xbc,0x1f4)]=_0xfc09f5(0x142,0x16a,0x15,0xb8);const _0x326a43=_0x3d0e46,_0x125cfc=_0x4c650e[_0xfc09f5(0x1d8,0x154,0x1c6,0x183)];let _0x40647d='<服装>\x0a';_0x40647d+=_0x4cba38(0x1de,0x149,0x113,0x103)+(_0x125cfc[_0x4cba38(0x129,0x15f,0x210,0x160)]||'')+'\x0a',_0x40647d+=_0xfc09f5(0xe0,-0x37,0xf2,0x71)+(_0x125cfc[_0x4cba38(0x1c0,0x157,0x10c,0x1c7)]||'')+'\x0a',_0x40647d+=_0x4cba38(0x169,0x1d5,0x24c,0x1c0)+(_0x125cfc[_0x4cba38(0x2a,0x79,0xfa,0xac)]||'')+'\x0a',_0x40647d+=_0x4cba38(0xea,0x100,0x9b,0x14a)+(_0x125cfc[_0x4cba38(0x137,0x16c,0xe2,0x1f9)+_0xfc09f5(0x10,0xec,0x107,0x9d)]||'')+'\x0a';function _0xfc09f5(_0x11c0b7,_0x192770,_0x37cb5d,_0x5932df){return _0x487e99(_0x11c0b7-0x185,_0x192770-0x15e,_0x5932df- -0x516,_0x37cb5d);}function _0x4cba38(_0x4cbed6,_0x58a9a3,_0x3718e8,_0x5be064){return _0x487e99(_0x4cbed6-0x1ee,_0x58a9a3-0x1e5,_0x58a9a3- -0x4be,_0x5be064);}return _0x40647d+=_0x4cba38(0x212,0x1a6,0x230,0x108)+(_0x125cfc[_0x4cba38(0x150,0x1c6,0x1ce,0x248)]||'')+'\x0a',_0x40647d+=_0xfc09f5(0x1af,0x12f,0x190,0x109)+(_0x125cfc[_0x4cba38(0xf5,0xae,0x3,0x25)+'ck']||'')+'\x0a',_0x40647d+=_0x326a43[_0x4cba38(0x138,0x148,0x170,0x185)],_0x40647d;}export async function handleOutfitPromptModify(_0xedcc92,_0x186bd4=[]){function _0x4163a4(_0x11f49a,_0x20bdf7,_0x30eb57,_0x1dbdcd){return _0x487e99(_0x11f49a-0x1ad,_0x20bdf7-0x1c,_0x30eb57- -0x27a,_0x1dbdcd);}const _0x313576={'yntMn':function(_0x301899,_0x3cce69){return _0x301899(_0x3cce69);},'jrPKv':function(_0x3db180,_0x3baaeb){return _0x3db180(_0x3baaeb);},'hvQgR':_0x4163a4(0x2dd,0x3b0,0x376,0x325)+_0x29c0f5(0x37d,0x2c1,0x32e,0x332)+_0x29c0f5(0x2c7,0x26d,0x2a7,0x29d)+'outfit\x20pro'+_0x29c0f5(0x213,0x22f,0x23e,0x28b)+_0x4163a4(0x392,0x335,0x37c,0x328)+'.','OFnTb':'正在处理服装提示词修'+'改请求...','TvmRS':function(_0x980f7c,_0x54a61d){return _0x980f7c===_0x54a61d;},'ervHo':_0x29c0f5(0x344,0x304,0x398,0x2f0),'MfOGO':function(_0x3b60f5){return _0x3b60f5();},'fbBjp':function(_0x5dae63,_0x3a8a69){return _0x5dae63!==_0x3a8a69;},'yyCAl':_0x4163a4(0x26c,0x37a,0x2e4,0x2b8),'YANPr':_0x29c0f5(0x283,0x25f,0x335,0x307),'NeRKY':_0x4163a4(0x419,0x3dd,0x376,0x381)+_0x29c0f5(0x2a9,0x2d7,0x33a,0x332)+'\x20Current\x20p'+_0x29c0f5(0x322,0x337,0x351,0x2f7),'XZKoS':function(_0x8d206b,_0xc4df6d){return _0x8d206b(_0xc4df6d);},'SzYKA':function(_0x18ae85,_0xddb2c1){return _0x18ae85||_0xddb2c1;},'uiRhX':_0x29c0f5(0x282,0x1dc,0x2cc,0x27b)+'y','vlMeq':function(_0x118360,_0x434f4f,_0xf0ee03){return _0x118360(_0x434f4f,_0xf0ee03);},'Klpsq':'{{用户需求}}','nPyKb':_0x29c0f5(0x338,0x2f5,0x304,0x2db)+_0x29c0f5(0x2bc,0x32c,0x310,0x332)+_0x4163a4(0x419,0x44a,0x3fa,0x3e2)+_0x4163a4(0x367,0x35b,0x362,0x2fb)+'ssage\x20inde'+'x:','GyqNF':function(_0x25ee28,_0x222efb,_0x2d01d2,_0x4da855,_0x3b0743){return _0x25ee28(_0x222efb,_0x2d01d2,_0x4da855,_0x3b0743);},'MfJYv':_0x4163a4(0x39e,0x363,0x3bc,0x3d8),'lEOBK':_0x4163a4(0x3e4,0x48a,0x3fd,0x43d),'wdegF':function(_0x5c1833,_0x1e7074,_0x2a2a3d,_0x1dbeb1,_0x4df490){return _0x5c1833(_0x1e7074,_0x2a2a3d,_0x1dbeb1,_0x4df490);},'BdDhD':function(_0x54d549,_0x2bafb7){return _0x54d549||_0x2bafb7;},'dmKkW':'{{当前角色}}','WSVzm':'{{上下文}}','MuGFC':_0x4163a4(0x35e,0x49b,0x408,0x460),'AFOhf':function(_0x599d7a,_0x511d00,_0x3500a4,_0x40bb80,_0x176436){return _0x599d7a(_0x511d00,_0x3500a4,_0x40bb80,_0x176436);},'mHUaf':_0x29c0f5(0x32a,0x415,0x358,0x36a),'vWjLd':_0x4163a4(0x33f,0x38d,0x336,0x299)+'}}','qtRWO':function(_0x489835,_0x32e3a0,_0x4ebd23,_0xfc09ee,_0x1f3e3f){return _0x489835(_0x32e3a0,_0x4ebd23,_0xfc09ee,_0x1f3e3f);},'esupW':_0x29c0f5(0x2da,0x2a7,0x2e9,0x323)+'}}','eoCQW':_0x4163a4(0x307,0x3c9,0x376,0x313)+_0x4163a4(0x35e,0x3b5,0x3cd,0x332)+_0x4163a4(0x3db,0x2fc,0x39f,0x2f8)+'mpt:','ImPzE':function(_0x1cedfa,_0x283083){return _0x1cedfa>_0x283083;},'nzbIi':_0x4163a4(0x3e3,0x3da,0x37e,0x42f),'IvMMT':_0x29c0f5(0x2ff,0x2fd,0x255,0x26e)+_0x29c0f5(0x2c7,0x2a0,0x21f,0x27d)+_0x4163a4(0x4a1,0x42b,0x3f1,0x3bb),'kgQEz':_0x4163a4(0x2da,0x3e0,0x376,0x344)+_0x4163a4(0x382,0x3fb,0x3cd,0x430)+'\x20LLM\x20outpu'+'t:','gIvHi':function(_0x312f92,_0x2c0ee5){return _0x312f92!==_0x2c0ee5;},'vbfjh':_0x29c0f5(0x1f5,0x242,0x277,0x297),'cEzqT':'LLM\x20返回结果为空','KhcQQ':_0x29c0f5(0x3ae,0x297,0x38b,0x30c),'HYMAi':_0x29c0f5(0x262,0x2ef,0x27a,0x245),'uoMIZ':_0x4163a4(0x277,0x39b,0x327,0x32b)+'检测到服装标签','TzwUj':_0x29c0f5(0x31f,0x282,0x2cf,0x2db)+_0x4163a4(0x3b4,0x3ee,0x3cd,0x3f8)+_0x4163a4(0x276,0x2a9,0x2e6,0x28f)};console[_0x4163a4(0x480,0x3d3,0x3f6,0x430)](_0x313576[_0x4163a4(0x3ec,0x45e,0x3e1,0x3f3)]),toastr[_0x29c0f5(0x366,0x3a2,0x3f3,0x353)](_0x313576[_0x4163a4(0x353,0x3cb,0x391,0x362)]);function _0x29c0f5(_0x40237b,_0x38df0e,_0x2822f7,_0x326c21){return _0x487e99(_0x40237b-0x1d7,_0x38df0e-0x1d3,_0x326c21- -0x315,_0x40237b);}try{if(_0x313576['TvmRS'](_0x313576[_0x29c0f5(0x2f2,0x2ae,0x373,0x2eb)],_0x313576['ervHo'])){const _0x219dc9=extension_settings[extensionName],_0xb94e81=_0x313576[_0x29c0f5(0x286,0x227,0x2a1,0x273)](getCurrentOutfitPreset);if(!_0xb94e81){if(_0x313576['fbBjp'](_0x313576[_0x4163a4(0x34a,0x47d,0x3f7,0x477)],_0x29c0f5(0x33a,0x337,0x2eb,0x2df))){toastr[_0x4163a4(0x366,0x42e,0x3a0,0x3d4)](_0x313576[_0x4163a4(0x364,0x282,0x2d1,0x319)]);return;}else _0x1e86bf=_0x4163a4(0x292,0x2f7,0x328,0x291)+_0x4163a4(0x3bc,0x3b2,0x36c,0x390)+[..._0x1b8304]['join']('、')+'\x0a';}console[_0x4163a4(0x439,0x44f,0x3f6,0x3f2)](_0x313576[_0x29c0f5(0x305,0x2d3,0x3c7,0x37d)],_0xb94e81['id']);const _0x4761d0=_0x313576[_0x29c0f5(0x258,0x369,0x2a8,0x2ca)](buildOutfitText,_0xb94e81),_0x452d66=[_0x313576[_0x4163a4(0x43e,0x489,0x41a,0x454)](_0xedcc92,''),_0x4761d0][_0x29c0f5(0x2a6,0x341,0x25c,0x291)](Boolean)[_0x4163a4(0x3e2,0x4b1,0x414,0x481)]('\x0a');let _0x2c77d4=buildPromptForRequestType(_0x313576['uiRhX'],_0x452d66);const _0x57ad94=new Set(),_0x5ae08a=_0x313576[_0x29c0f5(0x219,0x2b8,0x1ea,0x25d)](findMessageIndexWithPlaceholder,_0x2c77d4,_0x313576[_0x4163a4(0x34d,0x3c4,0x36b,0x2e5)]);console[_0x4163a4(0x442,0x49c,0x3f6,0x3f4)](_0x313576[_0x29c0f5(0x280,0x332,0x291,0x298)],_0x5ae08a),_0x2c77d4=_0x313576['GyqNF'](replacePlaceholder,_0x2c77d4,_0x313576[_0x29c0f5(0x257,0x298,0x2b5,0x288)],_0x4761d0,_0x57ad94),_0x2c77d4=replacePlaceholder(_0x2c77d4,_0x313576[_0x29c0f5(0x2df,0x313,0x305,0x2cc)],_0x4761d0,_0x57ad94),_0x2c77d4=_0x313576['wdegF'](replacePlaceholder,_0x2c77d4,_0x313576[_0x29c0f5(0x29f,0x2cc,0x22f,0x2d0)],_0x313576[_0x4163a4(0x3eb,0x3f0,0x341,0x352)](_0xedcc92,''),_0x57ad94),_0x2c77d4=_0x313576[_0x4163a4(0x3f3,0x43c,0x3b8,0x384)](replacePlaceholder,_0x2c77d4,_0x313576[_0x29c0f5(0x23a,0x28d,0x2c9,0x2c1)],'',_0x57ad94),_0x2c77d4=replacePlaceholder(_0x2c77d4,_0x313576[_0x29c0f5(0x2c3,0x3f1,0x3da,0x361)],'',_0x57ad94),_0x2c77d4=replacePlaceholder(_0x2c77d4,_0x313576[_0x4163a4(0x46f,0x335,0x3dd,0x420)],'',_0x57ad94),_0x2c77d4=_0x313576[_0x4163a4(0x3b9,0x3d6,0x417,0x4b5)](replacePlaceholder,_0x2c77d4,_0x313576['mHUaf'],'',_0x57ad94),_0x2c77d4=replacePlaceholder(_0x2c77d4,_0x313576['vWjLd'],'',_0x57ad94),_0x2c77d4=_0x313576[_0x4163a4(0x341,0x370,0x3c3,0x416)](replacePlaceholder,_0x2c77d4,_0x313576[_0x4163a4(0x26d,0x376,0x30b,0x387)],'',_0x57ad94),console[_0x29c0f5(0x3aa,0x33d,0x2b3,0x35b)](_0x313576[_0x4163a4(0x2dc,0x2e5,0x2c9,0x252)],_0x2c77d4);let _0x349264='';_0x313576[_0x4163a4(0x432,0x475,0x3f4,0x422)](_0x57ad94[_0x4163a4(0x2a2,0x2ab,0x2fe,0x39f)],0x157f+-0x1d22+0x17*0x55)&&(_0x349264=_0x4163a4(0x3ca,0x364,0x328,0x3b8)+_0x4163a4(0x317,0x300,0x36c,0x40c)+[..._0x57ad94][_0x4163a4(0x398,0x3e9,0x414,0x412)]('、')+'\x0a');_0x186bd4&&_0x313576[_0x4163a4(0x3e3,0x46f,0x3f4,0x492)](_0x186bd4[_0x4163a4(0x2ab,0x39c,0x2ea,0x346)],0xaa3+-0x27*0xe9+-0x4a*-0x56)&&_0x5ae08a>=-0x896+0x25c4+-0x1d2e&&(_0x2c77d4=attachImagesToMessage(_0x2c77d4,_0x5ae08a,_0x186bd4,_0x313576['nzbIi']),console['log']('[outfitPro'+_0x29c0f5(0x30f,0x3a2,0x394,0x332)+_0x4163a4(0x3dd,0x38b,0x36a,0x3de),_0x186bd4[_0x29c0f5(0x28a,0x2d3,0x26c,0x24f)],_0x313576[_0x4163a4(0x276,0x366,0x2f6,0x30a)],_0x5ae08a));_0x313576['vlMeq'](updateCombinedPrompt,_0x2c77d4,_0x349264);const _0x5cde6c={};_0x5cde6c[_0x29c0f5(0x3b4,0x2e9,0x3b8,0x319)]=0x493e0;const _0xbec410=await LLM_OUTFIT_MODIFY(_0x2c77d4,_0x5cde6c);console[_0x29c0f5(0x373,0x3a4,0x38f,0x35b)](_0x313576['kgQEz'],_0xbec410);if(!_0xbec410){if(_0x313576[_0x29c0f5(0x240,0x287,0x1f7,0x26f)](_0x313576['vbfjh'],_0x313576['vbfjh']))_0x313576[_0x29c0f5(0x321,0x33c,0x420,0x371)](_0x14b5ce,_0x3ab3a4[_0x4163a4(0x369,0x2c8,0x348,0x39d)]);else{toastr[_0x4163a4(0x3c1,0x3af,0x3a0,0x3da)](_0x313576[_0x29c0f5(0x2f6,0x23e,0x26c,0x25a)]);return;}}const _0x30553d=extractOutfitTags(_0xbec410);if(_0x313576['TvmRS'](_0x30553d[_0x4163a4(0x454,0x353,0x3e5,0x497)]['length'],0x2*-0xc7f+0xcc7*-0x2+0x328c)){if(_0x313576[_0x4163a4(0x34f,0x3d9,0x3ab,0x32b)]!==_0x313576[_0x4163a4(0x33b,0x3c2,0x382,0x430)]){toastr[_0x4163a4(0x42c,0x3ef,0x404,0x46c)](_0x313576[_0x4163a4(0x33c,0x38b,0x3a6,0x393)]),console[_0x4163a4(0x448,0x480,0x3f6,0x44c)](_0x4163a4(0x37f,0x2f5,0x376,0x3ab)+'mptModify]'+'\x20Raw\x20LLM\x20o'+_0x29c0f5(0x26e,0x280,0x2f9,0x264)+_0x29c0f5(0x33e,0x2e0,0x284,0x32d),_0xbec410);return;}else _0x313576[_0x29c0f5(0x24b,0x1ab,0x259,0x23a)](_0x5bba10,new _0x695796(_0x537ada[_0x4163a4(0x363,0x29c,0x348,0x2ab)]||_0x29c0f5(0x271,0x321,0x2a8,0x316)));}console[_0x4163a4(0x404,0x39b,0x3f6,0x369)](_0x4163a4(0x3c1,0x3f6,0x376,0x384)+_0x29c0f5(0x2f5,0x343,0x372,0x332)+_0x29c0f5(0x367,0x2f8,0x341,0x2bc)+_0x29c0f5(0x2b1,0x1e4,0x240,0x276),_0x30553d);const _0x4206f5=_0x30553d['outfits'][-0x36f*0x9+-0x2*-0x12c2+0x69d*-0x1];await _0x313576[_0x29c0f5(0x2e2,0x2f9,0x246,0x25d)](updateOutfitPresetFromLLM,_0xb94e81['id'],_0x4206f5),toastr[_0x4163a4(0x332,0x43a,0x3bd,0x310)]('服装提示词修改完成！');}else{const _0x174be5=_0x30587f[_0xf1b4ad],_0x4a4607=_0x174be5[_0x29c0f5(0x1e8,0x1c1,0x222,0x269)+_0x29c0f5(0x277,0x26b,0x363,0x2ef)];if(!_0x4a4607||!_0x174be5['outfitPres'+_0x4163a4(0x34d,0x4a0,0x3f9,0x3b1)][_0x4a4607])return null;const _0x43a450={};return _0x43a450['id']=_0x4a4607,_0x43a450['data']=_0x174be5[_0x4163a4(0x367,0x2f6,0x304,0x376)+'ets'][_0x4a4607],_0x43a450;}}catch(_0x4c2f14){console[_0x29c0f5(0x2e3,0x317,0x379,0x305)](_0x313576[_0x29c0f5(0x1bb,0x23d,0x26d,0x242)],_0x4c2f14),toastr['error']('服装提示词修改失败:'+'\x20'+_0x4c2f14[_0x29c0f5(0x2de,0x29e,0x2df,0x255)]);}}async function updateOutfitPresetFromLLM(_0x40f810,_0x54ce7c){const _0x3aeb77={'NRfoG':function(_0x2cadc0,_0x564082){return _0x2cadc0!==_0x564082;},'WaxzB':function(_0xe9ec49,_0x3a0201){return _0xe9ec49(_0x3a0201);},'vjocs':_0x4ec2fc(0x521,0x559,0x4e0,0x599)+'时','IkyyP':function(_0x3084ae,_0x3f60ed){return _0x3084ae!==_0x3f60ed;},'PbUFE':_0x593495(-0x137,-0x199,-0x159,-0xd7),'ebBGY':_0x4ec2fc(0x545,0x5e2,0x651,0x5ff),'gSnmY':_0x4ec2fc(0x685,0x67f,0x6b0,0x656),'BIZnN':'中文名称','GQsXj':_0x4ec2fc(0x611,0x5fa,0x5c4,0x5d6),'YBIVE':'上半身','uazjb':_0x593495(-0x94,-0x7c,-0x6b,-0x143),'RcqSk':function(_0x440c17,_0x1dff6e){return _0x440c17>_0x1dff6e;},'uDzsW':_0x4ec2fc(0x583,0x5ae,0x643,0x50d),'lJYra':_0x593495(-0xe7,-0x10e,-0x163,-0x136),'gjNCn':function(_0x5c476d,_0x5a7076){return _0x5c476d(_0x5a7076);},'tGfIR':function(_0x3aa480){return _0x3aa480();},'IsuUR':function(_0x44a14c,_0x552eec){return _0x44a14c(_0x552eec);},'CtqPY':_0x593495(-0x112,-0x191,-0x81,-0x16b)+'-tab-chara'+'cter'},_0x35fec0=extension_settings[extensionName],_0x3ae0b4=_0x35fec0[_0x4ec2fc(0x5af,0x591,0x574,0x512)+_0x4ec2fc(0x6aa,0x686,0x718,0x71e)][_0x40f810];if(!_0x3ae0b4){if(_0x3aeb77[_0x4ec2fc(0x5b8,0x5bb,0x58e,0x66b)](_0x3aeb77[_0x593495(-0x11a,-0xff,-0x1b1,-0x10e)],_0x3aeb77[_0x4ec2fc(0x63f,0x608,0x637,0x6a5)])){toastr['error'](_0x3aeb77['gSnmY']);return;}else{if(_0x3aeb77[_0x593495(-0x55,-0x2c,-0x2e,-0x38)](_0x132bd6['id'],_0x5ec58d))return;_0x1acca4[_0x593495(-0xc6,-0x14a,-0xb1,-0x5b)+'ener'](_0x4ef618['LLM_CHAR_M'+'ODIFY_GET_'+'PROMPT_RES'+_0x593495(-0xfb,-0x69,-0x105,-0x65)],_0x535ab2),_0x3aeb77[_0x593495(-0x91,-0xd9,-0x118,-0x104)](_0x54dac8,_0x76276c[_0x4ec2fc(0x60f,0x5df,0x691,0x599)]);}}let _0x4afe19=_0x4ec2fc(0x5fd,0x62a,0x684,0x673)+_0x40f810+_0x593495(-0xc0,-0x172,-0x131,-0x114);const _0x5cbbef={};function _0x4ec2fc(_0x29ec3b,_0x4b13f2,_0x3138fd,_0xd58e56){return _0x487e99(_0x29ec3b-0x1d1,_0x4b13f2-0x117,_0x4b13f2-0x13,_0x29ec3b);}_0x5cbbef['nameCN']=_0x3aeb77[_0x4ec2fc(0x5cc,0x5cb,0x5f3,0x5f2)],_0x5cbbef[_0x593495(-0xba,-0x136,-0x155,-0x8d)]=_0x3aeb77[_0x593495(-0x77,-0xee,-0xf,-0x10e)],_0x5cbbef[_0x593495(-0x198,-0x15a,-0x1de,-0x234)]=_0x3aeb77['YBIVE'],_0x5cbbef[_0x4ec2fc(0x5de,0x63d,0x5cf,0x66e)+_0x593495(-0x11c,-0xb0,-0x1cb,-0x1a1)]=_0x4ec2fc(0x608,0x561,0x5e1,0x60e),_0x5cbbef[_0x4ec2fc(0x5ff,0x697,0x627,0x667)]='下半身',_0x5cbbef[_0x593495(-0x163,-0x1bb,-0x18c,-0x1db)+'ck']=_0x3aeb77[_0x4ec2fc(0x721,0x696,0x714,0x683)];const _0x4f5b20=_0x5cbbef;let _0x3aba7f=-0x1*0xc2f+0x1d2a+-0x10fb;for(const _0x3683fb in _0x4f5b20){if(_0x54ce7c[_0x3683fb]&&_0x54ce7c[_0x3683fb]!==_0x3ae0b4[_0x3683fb]){const _0x52aeda=_0x3ae0b4[_0x3683fb]||_0x4ec2fc(0x71f,0x69e,0x675,0x6d0),_0xfda35d=_0x54ce7c[_0x3683fb];_0x4afe19+='•\x20'+_0x4f5b20[_0x3683fb]+':\x0a',_0x4afe19+=_0x593495(-0x57,0x54,-0x66,-0x40)+_0x52aeda[_0x4ec2fc(0x6c3,0x66d,0x641,0x617)](-0x22ed*-0x1+-0x6bf*0x2+-0x156f,-0x1*-0x1849+-0x1672+-0x1a5)+(_0x3aeb77[_0x4ec2fc(0x614,0x5b7,0x5f6,0x562)](_0x52aeda[_0x4ec2fc(0x5cd,0x577,0x592,0x50d)],-0x1f6e+-0x1a9b+0x3a3b)?_0x3aeb77[_0x593495(-0xac,-0xc1,-0x67,-0x1f)]:'')+'\x0a',_0x4afe19+=_0x593495(-0xd6,-0x4b,-0x8b,-0x7f)+_0xfda35d[_0x4ec2fc(0x6ba,0x66d,0x62d,0x5ca)](-0x2cd+0x7c7*0x4+-0x1c4f,0x33*0x35+0x1*-0x1c4f+0x11f2)+(_0xfda35d['length']>0x9b9*-0x2+0x1*0x11dd+0x1c7?_0x3aeb77[_0x593495(-0xac,-0x1e,-0x14d,-0xab)]:'')+'\x0a\x0a',_0x3aba7f++;}}if(_0x3aba7f===-0x1*0x204d+0x668+0x19e5){if(_0x3aeb77[_0x593495(-0x127,-0xab,-0x117,-0x14f)](_0x3aeb77['lJYra'],_0x3aeb77[_0x4ec2fc(0x6f3,0x68c,0x604,0x614)]))_0x370f9f[_0x4ec2fc(0x602,0x61c,0x5ca,0x6c0)+'ener'](_0x5f0c1d['LLM_CHAR_M'+'ODIFY_GET_'+_0x593495(-0x166,-0x14d,-0x20e,-0x196)+'PONSE'],_0x89f127),_0xded234(new _0x4eed74(_0x3aeb77['vjocs']));else{toastr[_0x593495(-0x67,0x1c,-0x6b,-0x5d)](_0x4ec2fc(0x5c8,0x612,0x630,0x5d2)+'内容');return;}}_0x4afe19+='共\x20'+_0x3aba7f+_0x4ec2fc(0x635,0x5e6,0x64b,0x651);const _0x489d41=await _0x3aeb77[_0x593495(-0x15a,-0xe6,-0x1d6,-0xf1)](stylishConfirm,_0x4afe19);if(!_0x489d41){toastr['info'](_0x593495(-0x185,-0x175,-0xf2,-0x19d));return;}for(const _0x53f676 in _0x4f5b20){_0x54ce7c[_0x53f676]&&(_0x3ae0b4[_0x53f676]=_0x54ce7c[_0x53f676]);}_0x3aeb77[_0x4ec2fc(0x6a6,0x669,0x6d3,0x692)](saveSettingsDebounced);const _0x2e4dbc=_0x3aeb77[_0x593495(-0x187,-0x181,-0x118,-0x1b9)]($,_0x3aeb77[_0x4ec2fc(0x607,0x555,0x52d,0x590)]);_0x2e4dbc[_0x593495(-0x16b,-0x187,-0x18f,-0x162)]&&_0x3aeb77['tGfIR'](loadOutfitPreset);_0x3aeb77[_0x4ec2fc(0x6d2,0x651,0x5b4,0x701)](updateOutfitFormFields,_0x54ce7c);function _0x593495(_0x38e207,_0x2354d3,_0x35a8ef,_0x3d655a){return _0x487e99(_0x38e207-0x1c9,_0x2354d3-0xd1,_0x38e207- -0x6cf,_0x35a8ef);}console['log'](_0x593495(-0xdf,-0x159,-0x7f,-0x75)+_0x4ec2fc(0x6a1,0x65a,0x69b,0x68d)+_0x593495(-0x179,-0xe5,-0x108,-0x140)+_0x40f810+'\x22');}function updateOutfitFormFields(_0x198e37){function _0x28339b(_0x40d227,_0x3f4e28,_0x2a2cf5,_0x3ddb0d){return _0x487e99(_0x40d227-0x89,_0x3f4e28-0x7c,_0x3f4e28- -0x451,_0x40d227);}const _0x33141b={'gMtVq':function(_0x560888,_0x5cc750){return _0x560888!==_0x5cc750;},'cSHje':_0x28339b(0x156,0x1e0,0x180,0x1c7),'unWyB':function(_0x390526,_0x231f58){return _0x390526(_0x231f58);},'klIBS':_0x1fd510(0x404,0x336,0x382,0x407),'HQNrl':_0x1fd510(0x312,0x2d4,0x37a,0x378),'crnrC':_0x28339b(0x131,0xe6,0x7f,0x17f),'GZifO':_0x28339b(0x1ed,0x1d9,0x21c,0x14b)+'ack','WKCGv':_0x1fd510(0x36c,0x226,0x2d1,0x246)+'ck'};function _0x1fd510(_0x346fed,_0xa6763a,_0x71166f,_0x29185f){return _0x487e99(_0x346fed-0x188,_0xa6763a-0x1b8,_0x71166f- -0x29b,_0x29185f);}const _0x34276d=[_0x33141b[_0x1fd510(0x2e6,0x31c,0x2aa,0x20a)],_0x33141b[_0x28339b(0x193,0x110,0x185,0xb0)],_0x33141b[_0x28339b(0x163,0x1d8,0x182,0x142)],_0x33141b[_0x28339b(0x26f,0x239,0x2aa,0x1c9)],'fullBody',_0x33141b['WKCGv']];_0x34276d['forEach'](_0x4e507b=>{function _0x2bcb6b(_0x30ac72,_0x36f124,_0x17a073,_0x549594){return _0x1fd510(_0x30ac72-0xdd,_0x36f124-0x165,_0x30ac72- -0xf1,_0x549594);}function _0x4fb102(_0x48278c,_0x45272e,_0x76df62,_0xee85de){return _0x1fd510(_0x48278c-0x1f4,_0x45272e-0x74,_0x48278c- -0x2e6,_0x76df62);}if(_0x198e37[_0x4e507b]){const _0x579a51=document[_0x4fb102(0x5d,0x81,0x13,0x7)+_0x4fb102(0xdd,0x2d,0x128,0x178)](_0x2bcb6b(0x1df,0x278,0x286,0x284)+_0x4e507b);_0x579a51&&(_0x33141b['gMtVq'](_0x33141b[_0x2bcb6b(0x251,0x255,0x2e3,0x212)],_0x2bcb6b(0x2a5,0x2e2,0x232,0x204))?_0x3bdc2a():(_0x579a51[_0x2bcb6b(0x2be,0x239,0x2ad,0x2ca)]=_0x198e37[_0x4e507b],_0x33141b[_0x4fb102(0xa3,0x66,0xc,0x14e)]($,_0x579a51)['trigger'](_0x4fb102(-0x47,-0xbb,-0x73,-0x2a))));}});}